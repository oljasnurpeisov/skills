!function(){let e=function(e){let l=e.querySelector(".skills-select"),s=l.value?+l.value:-1,n=(new ajaxSelect($(`[name="${l.name}"]`).not(".selectized")),e.querySelector(".professions-select")),t=n.dataset.maxitems,o=new ajaxSelect2($(`[name="${n.name}"]`).not(".selectized"),!0,s,t||null),r=e.querySelector(".icon-close");setTimeout(function(){l.addEventListener("change",function(e){e.target.value?(o.update(e.target.value),showEl(n.closest(".form-group"))):(hideEl(n.closest(".form-group")),o.clear(),o.clearOptions())})},600),r&&r.addEventListener("click",function(){e.remove()})};document.querySelectorAll(".professions-group").forEach(function(l){new e(l)});let l=`<div class="professions-group">\n                                                    <div class="form-group">\n                                                        <label class="form-group__label" id="skillsLabel">${document.querySelector("#skillsLabel").innerHTML}</label>\n                                                        <div class="input-addon">\n                                                            <select name="$skillName" placeholder="${document.querySelector("#skillsSelect").getAttribute("placeholder")}"\n                                                                    data-method="getSkills"  class="skills-select" required>\n                                                            </select>\n                                                            <div class="addon">\n                                                                <div class="btn-icon icon-close small"></div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div class="form-group" style="display: none">\n                                                        <label class="form-group__label">${document.querySelector("#professionsLabel").innerHTML}</label>\n                                                        <select name="$professionsName" placeholder="${document.querySelector("#professionsSelect").getAttribute("placeholder")}"\n                                                                data-method="getProfessionsBySkills" data-maxitems="7"  class="professions-select" multiple required>\n                                                        </select>\n                                                    </div>\n                                                </div>`,s=document.querySelector("#professionsContainer"),n=document.querySelector("#addProfessionGroup"),t=n.dataset.maxitems;n.addEventListener("click",function(o){o.preventDefault();let r=+s.lastElementChild.querySelector(".skills-select").name.replace(/(^.*\[|\].*$)/g,"")+1,i=document.createElement("div");i.innerHTML=l.replace("$skillName",`skills[${r}]`).replace("$professionsName",`professions[${r}][]`);let a=i.querySelector(".icon-close"),c=i.firstChild;a.addEventListener("click",function(e){e.preventDefault(),c.remove(),n.style.display="inline-flex"}),s.append(c),new e(c),t&&s.children.length>=t&&(n.style.display="none")})}();
