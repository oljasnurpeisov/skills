(function(){let a=function(a){let b=a.querySelector(".professional-areas-select"),c=b.value?+b.value:-1,d=new ajaxSelect($(`[name="${b.name}"]`).not(".selectized")),f=a.querySelector(".professions-select"),g=new ajaxSelect2($(`[name="${f.name}"]`).not(".selectized"),!0,c,1),h=a.querySelector(".icon-close");setTimeout(function(){b.addEventListener("change",function(a){a.target.value?(g.update(a.target.value),showEl(f.closest(".form-group"))):(hideEl(f.closest(".form-group")),g.clear(),g.clearOptions())})},600),h&&h.addEventListener("click",function(){a.remove()})},b=function(a){let b=a.querySelector(".professions-select"),c=b.value?+b.value:-1,d=a.querySelector(".skills-select"),e=d.dataset.maxitems,f=new ajaxSelect2($(`[name="${d.name}"]`).not(".selectized"),!0,c,e?e:null),g=a.querySelector(".icon-close");setTimeout(function(){b.addEventListener("change",function(a){a.target.value?(f.update(a.target.value),showEl(d.closest(".form-group"))):(hideEl(d.closest(".form-group")),f.clear(),f.clearOptions())})},600),g&&g.addEventListener("click",function(){a.remove()})};document.querySelectorAll(".professions-group").forEach(function(c){let d=new a(c),e=new b(c)});let c={skillsLabel:document.querySelector("#skillsLabel").innerHTML,skillsPlaceholder:document.querySelector("#skillsSelect").getAttribute("placeholder"),professionsLabel:document.querySelector("#professionsLabel").innerHTML,professionsPlaceholder:document.querySelector("#professionsSelect").getAttribute("placeholder")},d=`<div class="professions-group">
                                                    <div class="form-group">
                                                        <label class="form-group__label" id="skillsLabel">${c.skillsLabel}</label>
                                                        <div class="input-addon">
                                                            <select name="$skillName" placeholder="${c.skillsPlaceholder}"
                                                                    data-method="getSkills"  class="skills-select" required>
                                                            </select>
                                                            <div class="addon">
                                                                <div class="btn-icon icon-close small"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group" style="display: none">
                                                        <label class="form-group__label">${c.professionsLabel}</label>
                                                        <select name="$professionsName" placeholder="${c.professionsPlaceholder}"
                                                                data-method="getProfessionsBySkills" data-maxitems="7"  class="professions-select" multiple required>
                                                        </select>
                                                    </div>
                                                </div>`,f=document.querySelector("#professionsContainer"),g=document.querySelector("#addProfessionGroup"),h=g.dataset.maxitems;g.addEventListener("click",function(a){a.preventDefault();let c=f.lastElementChild.querySelector(".skills-select"),e=+c.name.replace(/(^.*\[|\].*$)/g,"")+1,i=document.createElement("div");i.innerHTML=d.replace(`$skillName`,`skills[${e}]`).replace("$professionsName",`professions[${e}][]`);let j=i.querySelector(".icon-close"),k=i.firstChild;j.addEventListener("click",function(a){a.preventDefault(),k.remove(),g.style.display="inline-flex"}),f.append(k);new b(k);h&&f.children.length>=h&&(g.style.display="none")})})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2Zlc3Npb25zLWdyb3VwLmpzIl0sIm5hbWVzIjpbIlByb2Zlc3Npb25hbEFyZWFDb21wb25lbnQiLCJlbCIsInByb2Zlc3Npb25hbEFyZWEiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmVzc2lvbmFsQXJlYUlkIiwidmFsdWUiLCJwcm9mZXNzaW9uYWxBcmVhc1NlbGVjdCIsImFqYXhTZWxlY3QiLCIkIiwibmFtZSIsIm5vdCIsInByb2Zlc3Npb24iLCJwcm9mZXNzaW9uU2VsZWN0IiwiYWpheFNlbGVjdDIiLCJyZW1vdmVCdG4iLCJzZXRUaW1lb3V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJ1cGRhdGUiLCJzaG93RWwiLCJjbG9zZXN0IiwiaGlkZUVsIiwiY2xlYXIiLCJjbGVhck9wdGlvbnMiLCJyZW1vdmUiLCJQcm9mZXNzaW9uc0NvbXBvbmVudCIsInByb2Zlc3Npb25JZCIsInNraWxsIiwic2tpbGxNYXhJdGVtcyIsImRhdGFzZXQiLCJtYXhpdGVtcyIsInNraWxsU2VsZWN0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsIm5ld1Byb2Zlc3Npb25hbEFyZWFDb21wb25lbnQiLCJuZXdQcm9mZXNzaW9uc0NvbXBvbmVudCIsInRleHROb2RlcyIsInNraWxsc0xhYmVsIiwiaW5uZXJIVE1MIiwic2tpbGxzUGxhY2Vob2xkZXIiLCJnZXRBdHRyaWJ1dGUiLCJwcm9mZXNzaW9uc0xhYmVsIiwicHJvZmVzc2lvbnNQbGFjZWhvbGRlciIsInByb2Zlc3Npb25zR3JvdXBUcGwiLCJwcm9mZXNzaW9uc0NvbnRhaW5lciIsImFkZEJ0biIsIm1heEl0ZW1zIiwicHJldmVudERlZmF1bHQiLCJsYXN0R3JvdXAiLCJsYXN0RWxlbWVudENoaWxkIiwiaW5kZXgiLCJyZXBsYWNlIiwibmV3R3JvdXAiLCJjcmVhdGVFbGVtZW50IiwiY2hpbGQiLCJmaXJzdENoaWxkIiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kIiwi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Q2dDLGNBQUYsRUFENkMsQ0FFN0NPLENBQUssQ0FBQy9CLE1BQU4sRUFGNkMsQ0FHN0NzQixDQUFNLENBQUNXLEtBQVAsQ0FBYUMsT0FBYixDQUF1QixhQUMxQixDQUpELENBVDBDLENBYzFDYixDQUFvQixDQUFDYyxNQUFyQixDQUE0QkosQ0FBNUIsQ0FkMEMsQ0FlWixHQUFJOUIsQ0FBQUEsQ0FBSixDQUF5QjhCLENBQXpCLENBZlksQ0FpQnRDUixDQUFRLEVBQUlGLENBQW9CLENBQUNlLFFBQXJCLENBQThCQyxNQUE5QixFQUF3Q2QsQ0FqQmQsR0FrQnRDRCxDQUFNLENBQUNXLEtBQVAsQ0FBYUMsT0FBYixDQUF1QixNQWxCZSxDQW9CN0MsQ0FwQkQsQ0FxQkgsQ0FsSEQsRyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4gICAgbGV0IFByb2Zlc3Npb25hbEFyZWFDb21wb25lbnQgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgbGV0IHByb2Zlc3Npb25hbEFyZWEgPSBlbC5xdWVyeVNlbGVjdG9yKCcucHJvZmVzc2lvbmFsLWFyZWFzLXNlbGVjdCcpLFxuICAgICAgICAgICAgcHJvZmVzc2lvbmFsQXJlYUlkID0gcHJvZmVzc2lvbmFsQXJlYS52YWx1ZSA/IE51bWJlcihwcm9mZXNzaW9uYWxBcmVhLnZhbHVlKSA6IC0xLFxuICAgICAgICAgICAgcHJvZmVzc2lvbmFsQXJlYXNTZWxlY3QgPSBuZXcgYWpheFNlbGVjdCgkKGBbbmFtZT1cIiR7cHJvZmVzc2lvbmFsQXJlYS5uYW1lfVwiXWApLm5vdCgnLnNlbGVjdGl6ZWQnKSksXG4gICAgICAgICAgICBwcm9mZXNzaW9uID0gZWwucXVlcnlTZWxlY3RvcignLnByb2Zlc3Npb25zLXNlbGVjdCcpLFxuICAgICAgICAgICAgcHJvZmVzc2lvbk1heEl0ZW1zID0gMSxcbiAgICAgICAgICAgIHByb2Zlc3Npb25TZWxlY3QgPSBuZXcgYWpheFNlbGVjdDIoJChgW25hbWU9XCIke3Byb2Zlc3Npb24ubmFtZX1cIl1gKS5ub3QoJy5zZWxlY3RpemVkJyksIHRydWUsIHByb2Zlc3Npb25hbEFyZWFJZCwgcHJvZmVzc2lvbk1heEl0ZW1zID8gcHJvZmVzc2lvbk1heEl0ZW1zIDogbnVsbCksXG4gICAgICAgICAgICByZW1vdmVCdG4gPSBlbC5xdWVyeVNlbGVjdG9yKCcuaWNvbi1jbG9zZScpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcHJvZmVzc2lvbmFsQXJlYS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9mZXNzaW9uU2VsZWN0LnVwZGF0ZShlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dFbChwcm9mZXNzaW9uLmNsb3Nlc3QoJy5mb3JtLWdyb3VwJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVFbChwcm9mZXNzaW9uLmNsb3Nlc3QoJy5mb3JtLWdyb3VwJykpO1xuICAgICAgICAgICAgICAgICAgICBwcm9mZXNzaW9uU2VsZWN0LmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHByb2Zlc3Npb25TZWxlY3QuY2xlYXJPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDYwMCk7XG5cbiAgICAgICAgaWYgKHJlbW92ZUJ0bikge1xuICAgICAgICAgICAgcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IFByb2Zlc3Npb25zQ29tcG9uZW50ID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIGxldCBwcm9mZXNzaW9uID0gZWwucXVlcnlTZWxlY3RvcignLnByb2Zlc3Npb25zLXNlbGVjdCcpLFxuICAgICAgICAgICAgcHJvZmVzc2lvbklkID0gcHJvZmVzc2lvbi52YWx1ZSA/IE51bWJlcihwcm9mZXNzaW9uLnZhbHVlKSA6IC0xLFxuICAgICAgICAgICAgc2tpbGwgPSBlbC5xdWVyeVNlbGVjdG9yKCcuc2tpbGxzLXNlbGVjdCcpLFxuICAgICAgICAgICAgc2tpbGxNYXhJdGVtcyA9IHNraWxsLmRhdGFzZXQubWF4aXRlbXMsXG4gICAgICAgICAgICBza2lsbFNlbGVjdCA9IG5ldyBhamF4U2VsZWN0MigkKGBbbmFtZT1cIiR7c2tpbGwubmFtZX1cIl1gKS5ub3QoJy5zZWxlY3RpemVkJyksIHRydWUsIHByb2Zlc3Npb25JZCwgc2tpbGxNYXhJdGVtcyA/IHNraWxsTWF4SXRlbXMgOiBudWxsKSxcbiAgICAgICAgICAgIHJlbW92ZUJ0biA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5pY29uLWNsb3NlJyk7XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHByb2Zlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxTZWxlY3QudXBkYXRlKGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0VsKHNraWxsLmNsb3Nlc3QoJy5mb3JtLWdyb3VwJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVFbChza2lsbC5jbG9zZXN0KCcuZm9ybS1ncm91cCcpKTtcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxTZWxlY3QuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2tpbGxTZWxlY3QuY2xlYXJPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDYwMCk7XG5cbiAgICAgICAgaWYgKHJlbW92ZUJ0bikge1xuICAgICAgICAgICAgcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2Zlc3Npb25zLWdyb3VwJykuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgbGV0IG5ld1Byb2Zlc3Npb25hbEFyZWFDb21wb25lbnQgPSBuZXcgUHJvZmVzc2lvbmFsQXJlYUNvbXBvbmVudChlbCk7XG4gICAgICAgIGxldCBuZXdQcm9mZXNzaW9uc0NvbXBvbmVudCA9IG5ldyBQcm9mZXNzaW9uc0NvbXBvbmVudChlbCk7XG4gICAgfSk7XG5cbiAgICBsZXQgdGV4dE5vZGVzID0ge1xuICAgICAgICAgICAgc2tpbGxzTGFiZWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNza2lsbHNMYWJlbCcpLmlubmVySFRNTCxcbiAgICAgICAgICAgIHNraWxsc1BsYWNlaG9sZGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2tpbGxzU2VsZWN0JykuZ2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicpLFxuICAgICAgICAgICAgcHJvZmVzc2lvbnNMYWJlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2Zlc3Npb25zTGFiZWwnKS5pbm5lckhUTUwsXG4gICAgICAgICAgICBwcm9mZXNzaW9uc1BsYWNlaG9sZGVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvZmVzc2lvbnNTZWxlY3QnKS5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJylcbiAgICAgICAgfSxcbiAgICAgICAgcHJvZmVzc2lvbnNHcm91cFRwbCA9IGA8ZGl2IGNsYXNzPVwicHJvZmVzc2lvbnMtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWdyb3VwX19sYWJlbFwiIGlkPVwic2tpbGxzTGFiZWxcIj4ke3RleHROb2Rlcy5za2lsbHNMYWJlbH08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtYWRkb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT1cIiRza2lsbE5hbWVcIiBwbGFjZWhvbGRlcj1cIiR7dGV4dE5vZGVzLnNraWxsc1BsYWNlaG9sZGVyfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbWV0aG9kPVwiZ2V0U2tpbGxzXCIgIGNsYXNzPVwic2tpbGxzLXNlbGVjdFwiIHJlcXVpcmVkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWljb24gaWNvbi1jbG9zZSBzbWFsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tZ3JvdXBfX2xhYmVsXCI+JHt0ZXh0Tm9kZXMucHJvZmVzc2lvbnNMYWJlbH08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9XCIkcHJvZmVzc2lvbnNOYW1lXCIgcGxhY2Vob2xkZXI9XCIke3RleHROb2Rlcy5wcm9mZXNzaW9uc1BsYWNlaG9sZGVyfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1tZXRob2Q9XCJnZXRQcm9mZXNzaW9uc0J5U2tpbGxzXCIgZGF0YS1tYXhpdGVtcz1cIjdcIiAgY2xhc3M9XCJwcm9mZXNzaW9ucy1zZWxlY3RcIiBtdWx0aXBsZSByZXF1aXJlZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gLFxuICAgICAgICBwcm9mZXNzaW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9mZXNzaW9uc0NvbnRhaW5lcicpLFxuICAgICAgICBhZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkUHJvZmVzc2lvbkdyb3VwJyksXG4gICAgICAgIG1heEl0ZW1zID0gYWRkQnRuLmRhdGFzZXQubWF4aXRlbXM7XG5cbiAgICBhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBsYXN0R3JvdXAgPSBwcm9mZXNzaW9uc0NvbnRhaW5lci5sYXN0RWxlbWVudENoaWxkLnF1ZXJ5U2VsZWN0b3IoJy5za2lsbHMtc2VsZWN0JyksXG4gICAgICAgICAgICBpbmRleCA9IE51bWJlcihsYXN0R3JvdXAubmFtZS5yZXBsYWNlKC8oXi4qXFxbfFxcXS4qJCkvZywgJycpKSArIDE7XG4gICAgICAgIGxldCBuZXdHcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBuZXdHcm91cC5pbm5lckhUTUwgPSBwcm9mZXNzaW9uc0dyb3VwVHBsLnJlcGxhY2UoYCRza2lsbE5hbWVgLCBgc2tpbGxzWyR7aW5kZXh9XWApXG4gICAgICAgICAgICAucmVwbGFjZSgnJHByb2Zlc3Npb25zTmFtZScsIGBwcm9mZXNzaW9uc1ske2luZGV4fV1bXWApO1xuICAgICAgICBsZXQgcmVtb3ZlQnRuID0gbmV3R3JvdXAucXVlcnlTZWxlY3RvcignLmljb24tY2xvc2UnKTtcbiAgICAgICAgbGV0IGNoaWxkID0gbmV3R3JvdXAuZmlyc3RDaGlsZDtcbiAgICAgICAgcmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgYWRkQnRuLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWZsZXgnO1xuICAgICAgICB9KTtcbiAgICAgICAgcHJvZmVzc2lvbnNDb250YWluZXIuYXBwZW5kKGNoaWxkKTtcbiAgICAgICAgbGV0IG5ld1Byb2Zlc3Npb25zQ29tcG9uZW50ID0gbmV3IFByb2Zlc3Npb25zQ29tcG9uZW50KGNoaWxkKTtcblxuICAgICAgICBpZiAobWF4SXRlbXMgJiYgcHJvZmVzc2lvbnNDb250YWluZXIuY2hpbGRyZW4ubGVuZ3RoID49IG1heEl0ZW1zKSB7XG4gICAgICAgICAgICBhZGRCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH0pO1xufSkoKTtcblxuIl0sImZpbGUiOiJwcm9mZXNzaW9ucy1ncm91cC5qcyJ9
