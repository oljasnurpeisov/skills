let courseController=function(a,b){function c(a,b){return{id:a,name:b,order:H.length,lessons:null,itemType:"theme"}}function d(){A.innerHTML="";let b=0,c=0,e=H.sort(function(c,a){return c.order-a.order});e.forEach(function({id:g,name:k,itemType:l,lessons:m,collapsed:t,duration:u,type:v}){let w=document.createElement("div");if(w.className="topic",t&&w.classList.add("collapsed"),"theme"===l){if(w.innerHTML=`<div class="topic__header">
                                    <div class="title">${k}</div>
                                    <div class="duration"></div>
                                    <div class="edit-buttons">
                                        <a href="#" title="${o}" class="btn-icon small btn-icon--ghost icon-chevron-up"> </a>
                                        <a href="#" title="${q}" class="btn-icon small btn-icon--ghost icon-trash-can"> </a>
                                        <a href="#" title="${p}" class="btn-icon small btn-icon--ghost icon-chevron-down"> </a>
                                        <a href="#" title="${r}" class="btn-icon small btn-icon--ghost icon-edit"> </a>
                                        <a href="${`/${n}/my-courses/course/${a}/create-lesson`}" title="${s}" class="btn-icon small icon-plus"> </a>
                                    </div>
                                </div>`,w.querySelector(".icon-trash-can").addEventListener("click",function(a){a.preventDefault(),I=g,$.fancybox.open({src:C,touch:!1})}),w.querySelector(".icon-edit").addEventListener("click",function(a){a.preventDefault(),J=g,z.value=k,$.fancybox.open({src:B,touch:!1})}),m){let e=w.querySelector(".title"),h=w.querySelector(".duration"),k=document.createElement("div"),l=0;w.classList.add("spoiler"),k.className="topic__body";let s=m.sort(function(c,a){return c.order-a.order});s.forEach(function({id:c,name:d,duration:e,type:f}){let h=document.createElement("div");h.className="lesson",h.innerHTML=`<div class="title"><a href="${`/${n}/my-courses/course/${a}/view-lesson-${c}`}" title="${d}">${d} <div class="type">${f}</div></a></div>
                                      <div class="duration">${j(e)}</div>
                                      <div class="edit-buttons">
                                          <div class="united">
                                              <a href="#" title="${o}" class="btn-icon btn-icon--ghost icon-chevron-up"> </a>
                                              <a href="#" title="${q}" class="btn-icon btn-icon--ghost icon-trash-can"> </a>
                                              <a href="#" title="${p}" class="btn-icon btn-icon--ghost icon-chevron-down"> </a>
                                          </div>
                                          <a href="${`/${n}/my-courses/course/${a}/edit-lesson-${c}`}" title="${r}" class="btn-icon btn-icon--ghost icon-edit"> </a>
                                      </div>`,h.querySelector(".icon-chevron-up").addEventListener("click",function(a){a.preventDefault(),i(c,s,-1)}),h.querySelector(".icon-trash-can").addEventListener("click",function(a){a.preventDefault(),K=c,I=g,$.fancybox.open({src:D,touch:!1})}),h.querySelector(".icon-chevron-down").addEventListener("click",function(a){a.preventDefault(),i(c,s,1)}),l+=e,k.append(h),b++}),e.addEventListener("click",function(){w.classList.toggle("collapsed");let a=f(g,H);a.collapsed=!a.collapsed,d()}),h.innerHTML=j(l),c+=l,w.append(k)}}else{w.innerHTML=`<div class="topic__header">
                                    <div class="title"><a href="${`/${n}/my-courses/course/${a}/view-lesson-${g}`}" title="${k}">${k}</a><div class="type">${v}</div></div>
                                    <div class="duration">${j(u)}</div>
                                    <div class="edit-buttons">
                                        <a href="#" title="${o}" class="btn-icon small btn-icon--ghost icon-chevron-up"> </a>
                                        <a href="#" title="${q}" class="btn-icon small btn-icon--ghost icon-trash-can"> </a>
                                        <a href="#" title="${p}" class="btn-icon small btn-icon--ghost icon-chevron-down"> </a>
                                        <a href="${`/${n}/my-courses/course/${a}/edit-lesson-${g}`}" title="${r}" class="btn-icon small btn-icon--ghost icon-edit"> </a>
                                        <span class="btn-icon small icon-plus invisible"> </span>
                                    </div>
                                </div>`,w.querySelector(".icon-trash-can").addEventListener("click",function(a){a.preventDefault(),K=g,$.fancybox.open({src:D,touch:!1})}),c+=u,b++}w.querySelector(".icon-chevron-up").addEventListener("click",function(a){a.preventDefault(),h(g,-1)}),w.querySelector(".icon-chevron-down").addEventListener("click",function(a){a.preventDefault(),h(g,1)}),A.append(w)}),F.innerHTML=b+"",E.innerHTML=j(c)}function e(a,b){let c=document.querySelector(G),d=c.querySelector(".title-primary"),e=c.querySelector(".plain-text");d.innerHTML=a,e.innerHTML=b,$.fancybox.open({src:G,touch:!1})}function f(a,b){return b.find(function(b){return b.id===+a})}function g(a,b){return b.findIndex(function(b){return b.id===+a})}function h(a,b){let c=f(a,H),e=H.find(function(a){return 1==(a.order-c.order)*b});e&&(l(),t.swapItems(c.id,c.itemType,e.id,e.itemType).then(function(){c.order+=b,e.order=c.order-b,d(),m()}).catch(function(a){console.log(a.message)}))}function i(a,b,c){let e=f(a,b),g=b.find(function(a){return 1==(a.order-e.order)*c});g&&(l(),t.swapLessonsOrders(e.id,g.id).then(function(){e.order+=c,g.order=e.order-c,d(),m()}).catch(function(a){console.log(a.message)}))}function j(a){let b=parseInt(a/60),c=k(b),d=k(a%60);return c+":"+d}function k(a){return 1===(a+"").length?"0"+(a+""):a+""}function l(){A.classList.add("loading-default")}function m(){A.classList.remove("loading-default")}const n=window.Laravel.lang,{upText:o,downText:p,deleteText:q,editText:r,addText:s}=b,t=new DataService,u=document.querySelector("#addTopicBtn"),v=document.querySelector("#editTopicBtn"),w=document.querySelector("#removeTopicBtn"),x=document.querySelector("#removeLessonBtn"),y=document.querySelector("#newTopicNameInput"),z=document.querySelector("#editTopicNameInput"),A=document.querySelector("#courseDataContainer"),B="#editTopicModal",C="#removeTopicModal",D="#removeLessonModal",E=document.querySelector("#courseDuration"),F=document.querySelector("#lessonsCount"),G="#modalMsg";let H=[],I=null,J=null,K=null;this.initComponent=function(){u.addEventListener("click",function(b){b.preventDefault();let e=y.value;return e?void(y.parentElement.classList.remove("error"),t.addTopic(a,e).then(function({id:a,name:b}){H.push(c(a,b)),parent.jQuery.fancybox.getInstance().close(),d(),y.value=""}).catch(function(a){console.log(a.message)})):(y.parentElement.classList.add("error"),!1)}),v.addEventListener("click",function(a){a.preventDefault();let b=z.value;return b?void(y.parentElement.classList.remove("error"),t.editTopic(J,b).then(function({msgTitle:a,msgText:c}){parent.jQuery.fancybox.getInstance().close(),setTimeout(function(){e(a,c)},380);let g=f(J,H);g.name=b,d()}).catch(function(a){console.log(a.message)})):(y.parentElement.classList.add("error"),!1)}),w.addEventListener("click",function(a){a.preventDefault(),t.removeTopic(I).then(function({msgTitle:a,msgText:b}){parent.jQuery.fancybox.getInstance().close(),setTimeout(function(){e(a,b)},380);let c=g(I,H);H.splice(c,1);for(let d=c;d<H.length;d++)H[d].order--;d()}).catch(function(a){console.log(a.message)})}),x.addEventListener("click",function(a){a.preventDefault(),t.removeLesson(I,K).then(function({msgTitle:a,msgText:b}){parent.jQuery.fancybox.getInstance().close(),setTimeout(function(){e(a,b)},380);let c=f(I,H).lessons,h=g(K,c);c.splice(h,1);for(let d=h;d<c.length;d++)c[d].order--;d()}).catch(function(a){console.log(a.message)})}),t.getCourseData(a).then(function(a){H=[...a],d()}).catch(function(a){console.log(a.message)})},this.renderData=function(){d()}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZS1lZGl0LmpzIl0sIm5hbWVzIjpbImNvdXJzZUNvbnRyb2xsZXIiLCJjb3Vyc2VJZCIsInRleHREYXRhIiwiYWRkVG9waWMiLCJpZCIsIm5hbWUiLCJvcmRlciIsImNvdXJzZURhdGEiLCJsZW5ndGgiLCJsZXNzb25zIiwiaXRlbVR5cGUiLCJyZW5kZXJEYXRhIiwiY291cnNlRGF0YUNvbnRhaW5lciIsImlubmVySFRNTCIsImxlc3NvbnNDb3VudCIsImNvdXJzZUR1cmF0aW9uIiwiY291cnNlRGF0YVNvcnRlZCIsInNvcnQiLCJhIiwiYiIsImZvckVhY2giLCJpdGVtSWQiLCJpdGVtTmFtZSIsImNvbGxhcHNlZCIsImR1cmF0aW9uIiwidW50aGVtZWRsZXNzb25EdXJhdGlvbiIsInR5cGUiLCJ1bnRoZW1lZExlc3NvblR5cGUiLCJ0b3BpY1dyYXBwZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ1cFRleHQiLCJkZWxldGVUZXh0IiwiZG93blRleHQiLCJlZGl0VGV4dCIsImxhbmciLCJhZGRUZXh0IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50UmVtb3ZlVG9waWNJZCIsIiQiLCJmYW5jeWJveCIsIm9wZW4iLCJzcmMiLCJyZW1vdmVUb3BpY01vZGFsSWQiLCJ0b3VjaCIsImN1cnJlbnRFZGl0VG9waWNJZCIsImVkaXRUb3BpY05hbWVJbnB1dCIsInZhbHVlIiwiZWRpdFRvcGljTW9kYWxJZCIsInRvcGljVGl0bGUiLCJ0b3BpY0R1cmF0aW9uRWwiLCJ0b3BpY0JvZHkiLCJ0b3BpY0R1cmF0aW9uIiwibGVzc29uc1NvcnRlZCIsImxlc3NvbklkIiwibGVzc29uTmFtZSIsImxlc3NvbkR1cmF0aW9uIiwibGVzc29uVHlwZSIsImxlc3NvbldyYXBwZXIiLCJtaW51dGVzVG9Ib3VycyIsInN3YXBMZXNzb25zIiwiY3VycmVudFJlbW92ZUxlc3NvbklkIiwicmVtb3ZlTGVzc29uTW9kYWxJZCIsImFwcGVuZCIsInRvZ2dsZSIsInRvcGljT2JqIiwiZ2V0T2JqZWN0QnlJZCIsInN3YXBJdGVtcyIsImxlc3NvbnNDb3VudEVsIiwiY291cnNlRHVyYXRpb25FbCIsInNob3dNb2RhbE1zZyIsInRpdGxlIiwidGV4dCIsIm1vZGFsIiwibW9kYWxNc2dJZCIsIm1vZGFsVGl0bGUiLCJtb2RhbFRleHQiLCJkYXRhIiwiZmluZCIsIml0ZW0iLCJnZXRJbmRleEJ5SWQiLCJmaW5kSW5kZXgiLCJ0b3BpY0lkIiwiZGlyZWN0aW9uIiwiY3VycmVudCIsInN3YXBJdGVtIiwic2V0TG9hZGluZyIsImRhdGFTZXJ2aWNlIiwidGhlbiIsInJlbW92ZUxvYWRpbmciLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJzd2FwTGVzc29uc09yZGVycyIsIm1pbnV0ZXMiLCJob3VycyIsInBhcnNlSW50IiwiZm9ybWF0dGVkSG91cnMiLCJhZGRaZXJvVG9OdW1iZXIiLCJmb3JtYXR0ZWRNaW51dGVzIiwibnVtYmVyIiwicmVtb3ZlIiwid2luZG93IiwiTGFyYXZlbCIsIkRhdGFTZXJ2aWNlIiwiYWRkVG9waWNCdG4iLCJlZGl0VG9waWNCdG4iLCJyZW1vdmVUb3BpY0J0biIsInJlbW92ZUxlc3NvbkJ0biIsIm5ld1RvcGljTmFtZUlucHV0IiwiaW5pdENvbXBvbmVudCIsInBhcmVudEVsZW1lbnQiLCJwdXNoIiwicGFyZW50IiwialF1ZXJ5IiwiZ2V0SW5zdGFuY2UiLCJjbG9zZSIsImVkaXRUb3BpYyIsIm1zZ1RpdGxlIiwibXNnVGV4dCIsInNldFRpbWVvdXQiLCJjdXJyZW50T2JqIiwicmVtb3ZlVG9waWMiLCJjdXJyZW50T2JqSW5kZXgiLCJzcGxpY2UiLCJpIiwicmVtb3ZlTGVzc29uIiwiZ2V0Q291cnNlRGF0YSJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsQ0FBQUEsZ0JBQWdCLENBQUcsU0FBVUMsQ0FB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d0MsQ0FFckR4RSxDQUFVLEVBQ2IsQ0FIRCxFQUdHcUYsS0FISCxDQUdTLFNBQVVDLENBQVYsQ0FBaUIsQ0FDdEJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFLLENBQUNHLE9BQWxCLENBQ0gsQ0FMRCxDQU1ILENBcFpnRCxDQXNaakQsS0FBS3pGLFVBQUwsQ0FBa0IsVUFBWSxDQUMxQkEsQ0FBVSxFQUNiLENBQ0osQ0F6WkQiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgY291cnNlQ29udHJvbGxlciA9IGZ1bmN0aW9uIChjb3Vyc2VJZCwgdGV4dERhdGEpIHtcbiAgICBjb25zdCBsYW5nID0gd2luZG93LkxhcmF2ZWwubGFuZztcbiAgICBjb25zdCB7dXBUZXh0LCBkb3duVGV4dCwgZGVsZXRlVGV4dCwgZWRpdFRleHQsIGFkZFRleHR9ID0gdGV4dERhdGE7XG4gICAgY29uc3QgZGF0YVNlcnZpY2UgPSBuZXcgRGF0YVNlcnZpY2UoKTtcbiAgICBjb25zdCBhZGRUb3BpY0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGRUb3BpY0J0bicpO1xuICAgIGNvbnN0IGVkaXRUb3BpY0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0VG9waWNCdG4nKTtcbiAgICBjb25zdCByZW1vdmVUb3BpY0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZW1vdmVUb3BpY0J0bicpO1xuICAgIGNvbnN0IHJlbW92ZUxlc3NvbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZW1vdmVMZXNzb25CdG4nKTtcbiAgICBjb25zdCBuZXdUb3BpY05hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXdUb3BpY05hbWVJbnB1dCcpO1xuICAgIGNvbnN0IGVkaXRUb3BpY05hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlZGl0VG9waWNOYW1lSW5wdXQnKTtcbiAgICBjb25zdCBjb3Vyc2VEYXRhQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvdXJzZURhdGFDb250YWluZXInKTtcbiAgICBjb25zdCBlZGl0VG9waWNNb2RhbElkID0gJyNlZGl0VG9waWNNb2RhbCc7XG4gICAgY29uc3QgcmVtb3ZlVG9waWNNb2RhbElkID0gJyNyZW1vdmVUb3BpY01vZGFsJztcbiAgICBjb25zdCByZW1vdmVMZXNzb25Nb2RhbElkID0gJyNyZW1vdmVMZXNzb25Nb2RhbCc7XG4gICAgY29uc3QgY291cnNlRHVyYXRpb25FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb3Vyc2VEdXJhdGlvbicpO1xuICAgIGNvbnN0IGxlc3NvbnNDb3VudEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xlc3NvbnNDb3VudCcpO1xuICAgIGNvbnN0IG1vZGFsTXNnSWQgPSAnI21vZGFsTXNnJztcblxuICAgIGxldCBjb3Vyc2VEYXRhID0gW107XG5cbiAgICBsZXQgY3VycmVudFJlbW92ZVRvcGljSWQgPSBudWxsO1xuICAgIGxldCBjdXJyZW50RWRpdFRvcGljSWQgPSBudWxsO1xuICAgIGxldCBjdXJyZW50UmVtb3ZlTGVzc29uSWQgPSBudWxsO1xuXG4gICAgLy8gbGV0IGlkSW5jcmVtZW50ID0gNTA7IC8vIHJlbW92ZSBvbiBwcm9kdWN0aW9uXG5cbiAgICBmdW5jdGlvbiBhZGRUb3BpYyhpZCwgbmFtZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgb3JkZXI6IGNvdXJzZURhdGEubGVuZ3RoLFxuICAgICAgICAgICAgbGVzc29uczogbnVsbCxcbiAgICAgICAgICAgIGl0ZW1UeXBlOiAndGhlbWUnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJEYXRhKCkge1xuICAgICAgICBjb3Vyc2VEYXRhQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIGxldCBsZXNzb25zQ291bnQgPSAwLFxuICAgICAgICAgICAgY291cnNlRHVyYXRpb24gPSAwO1xuXG4gICAgICAgIGxldCBjb3Vyc2VEYXRhU29ydGVkID0gY291cnNlRGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5vcmRlciAtIGIub3JkZXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY291cnNlRGF0YVNvcnRlZC5mb3JFYWNoKGZ1bmN0aW9uICh7aWQ6IGl0ZW1JZCwgbmFtZTogaXRlbU5hbWUsIGl0ZW1UeXBlLCBsZXNzb25zLCBjb2xsYXBzZWQsIGR1cmF0aW9uOiB1bnRoZW1lZGxlc3NvbkR1cmF0aW9uLCB0eXBlOiB1bnRoZW1lZExlc3NvblR5cGV9KSB7XG4gICAgICAgICAgICBsZXQgdG9waWNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgIHRvcGljV3JhcHBlci5jbGFzc05hbWUgPSAndG9waWMnO1xuXG4gICAgICAgICAgICBpZiAoY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgdG9waWNXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2NvbGxhcHNlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXRlbVR5cGUgPT09ICd0aGVtZScpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGVzc29uQ3JlYXRlTGluayA9IGAvJHtsYW5nfS9teS1jb3Vyc2VzL2NvdXJzZS8ke2NvdXJzZUlkfS9jcmVhdGUtbGVzc29uYDtcblxuICAgICAgICAgICAgICAgIHRvcGljV3JhcHBlci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cInRvcGljX19oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiR7aXRlbU5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHVyYXRpb25cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0LWJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHt1cFRleHR9XCIgY2xhc3M9XCJidG4taWNvbiBzbWFsbCBidG4taWNvbi0tZ2hvc3QgaWNvbi1jaGV2cm9uLXVwXCI+IDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHtkZWxldGVUZXh0fVwiIGNsYXNzPVwiYnRuLWljb24gc21hbGwgYnRuLWljb24tLWdob3N0IGljb24tdHJhc2gtY2FuXCI+IDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHtkb3duVGV4dH1cIiBjbGFzcz1cImJ0bi1pY29uIHNtYWxsIGJ0bi1pY29uLS1naG9zdCBpY29uLWNoZXZyb24tZG93blwiPiA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiB0aXRsZT1cIiR7ZWRpdFRleHR9XCIgY2xhc3M9XCJidG4taWNvbiBzbWFsbCBidG4taWNvbi0tZ2hvc3QgaWNvbi1lZGl0XCI+IDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHtsZXNzb25DcmVhdGVMaW5rfVwiIHRpdGxlPVwiJHthZGRUZXh0fVwiIGNsYXNzPVwiYnRuLWljb24gc21hbGwgaWNvbi1wbHVzXCI+IDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuXG4gICAgICAgICAgICAgICAgLypEZWxldGUqL1xuICAgICAgICAgICAgICAgIHRvcGljV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuaWNvbi10cmFzaC1jYW4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJlbW92ZVRvcGljSWQgPSBpdGVtSWQ7XG4gICAgICAgICAgICAgICAgICAgICQuZmFuY3lib3gub3Blbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHJlbW92ZVRvcGljTW9kYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8qRWRpdCovXG4gICAgICAgICAgICAgICAgdG9waWNXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5pY29uLWVkaXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVkaXRUb3BpY0lkID0gaXRlbUlkO1xuICAgICAgICAgICAgICAgICAgICBlZGl0VG9waWNOYW1lSW5wdXQudmFsdWUgPSBpdGVtTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgJC5mYW5jeWJveC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogZWRpdFRvcGljTW9kYWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChsZXNzb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3BpY1RpdGxlID0gdG9waWNXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy50aXRsZScpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9waWNEdXJhdGlvbkVsID0gdG9waWNXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5kdXJhdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9waWNCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3BpY0R1cmF0aW9uID0gMDtcblxuICAgICAgICAgICAgICAgICAgICB0b3BpY1dyYXBwZXIuY2xhc3NMaXN0LmFkZCgnc3BvaWxlcicpO1xuICAgICAgICAgICAgICAgICAgICB0b3BpY0JvZHkuY2xhc3NOYW1lID0gJ3RvcGljX19ib2R5JztcblxuICAgICAgICAgICAgICAgICAgICBsZXQgbGVzc29uc1NvcnRlZCA9IGxlc3NvbnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGxlc3NvbnNTb3J0ZWQuZm9yRWFjaChmdW5jdGlvbiAoe2lkOiBsZXNzb25JZCwgbmFtZTogbGVzc29uTmFtZSwgZHVyYXRpb246IGxlc3NvbkR1cmF0aW9uLCB0eXBlOiBsZXNzb25UeXBlfSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxlc3NvbldyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZXNzb25FZGl0TGluayA9IGAvJHtsYW5nfS9teS1jb3Vyc2VzL2NvdXJzZS8ke2NvdXJzZUlkfS9lZGl0LWxlc3Nvbi0ke2xlc3NvbklkfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGVzc29uTGluayA9IGAvJHtsYW5nfS9teS1jb3Vyc2VzL2NvdXJzZS8ke2NvdXJzZUlkfS92aWV3LWxlc3Nvbi0ke2xlc3NvbklkfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXNzb25XcmFwcGVyLmNsYXNzTmFtZSA9ICdsZXNzb24nO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVzc29uV3JhcHBlci5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz1cInRpdGxlXCI+PGEgaHJlZj1cIiR7bGVzc29uTGlua31cIiB0aXRsZT1cIiR7bGVzc29uTmFtZX1cIj4ke2xlc3Nvbk5hbWV9IDxkaXYgY2xhc3M9XCJ0eXBlXCI+JHtsZXNzb25UeXBlfTwvZGl2PjwvYT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR1cmF0aW9uXCI+JHttaW51dGVzVG9Ib3VycyhsZXNzb25EdXJhdGlvbil9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0LWJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1bml0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHt1cFRleHR9XCIgY2xhc3M9XCJidG4taWNvbiBidG4taWNvbi0tZ2hvc3QgaWNvbi1jaGV2cm9uLXVwXCI+IDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHtkZWxldGVUZXh0fVwiIGNsYXNzPVwiYnRuLWljb24gYnRuLWljb24tLWdob3N0IGljb24tdHJhc2gtY2FuXCI+IDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHtkb3duVGV4dH1cIiBjbGFzcz1cImJ0bi1pY29uIGJ0bi1pY29uLS1naG9zdCBpY29uLWNoZXZyb24tZG93blwiPiA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIke2xlc3NvbkVkaXRMaW5rfVwiIHRpdGxlPVwiJHtlZGl0VGV4dH1cIiBjbGFzcz1cImJ0bi1pY29uIGJ0bi1pY29uLS1naG9zdCBpY29uLWVkaXRcIj4gPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKk1vdmUgdXAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVzc29uV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuaWNvbi1jaGV2cm9uLXVwJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2FwTGVzc29ucyhsZXNzb25JZCwgbGVzc29uc1NvcnRlZCwgLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qRGVsZXRlKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGxlc3NvbldyYXBwZXIucXVlcnlTZWxlY3RvcignLmljb24tdHJhc2gtY2FuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UmVtb3ZlTGVzc29uSWQgPSBsZXNzb25JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UmVtb3ZlVG9waWNJZCA9IGl0ZW1JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmZhbmN5Ym94Lm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHJlbW92ZUxlc3Nvbk1vZGFsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLypNb3ZlIGRvd24qL1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVzc29uV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuaWNvbi1jaGV2cm9uLWRvd24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3YXBMZXNzb25zKGxlc3NvbklkLCBsZXNzb25zU29ydGVkLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BpY0R1cmF0aW9uICs9IGxlc3NvbkR1cmF0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BpY0JvZHkuYXBwZW5kKGxlc3NvbldyYXBwZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXNzb25zQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdG9waWNUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcGljV3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKCdjb2xsYXBzZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3BpY09iaiA9IGdldE9iamVjdEJ5SWQoaXRlbUlkLCBjb3Vyc2VEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcGljT2JqLmNvbGxhcHNlZCA9ICF0b3BpY09iai5jb2xsYXBzZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJEYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRvcGljRHVyYXRpb25FbC5pbm5lckhUTUwgPSBtaW51dGVzVG9Ib3Vycyh0b3BpY0R1cmF0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VEdXJhdGlvbiArPSB0b3BpY0R1cmF0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgIHRvcGljV3JhcHBlci5hcHBlbmQodG9waWNCb2R5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBsZXNzb25FZGl0TGluayA9IGAvJHtsYW5nfS9teS1jb3Vyc2VzL2NvdXJzZS8ke2NvdXJzZUlkfS9lZGl0LWxlc3Nvbi0ke2l0ZW1JZH1gO1xuICAgICAgICAgICAgICAgIGxldCBsZXNzb25MaW5rID0gYC8ke2xhbmd9L215LWNvdXJzZXMvY291cnNlLyR7Y291cnNlSWR9L3ZpZXctbGVzc29uLSR7aXRlbUlkfWA7XG5cbiAgICAgICAgICAgICAgICB0b3BpY1dyYXBwZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJ0b3BpY19faGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj48YSBocmVmPVwiJHtsZXNzb25MaW5rfVwiIHRpdGxlPVwiJHtpdGVtTmFtZX1cIj4ke2l0ZW1OYW1lfTwvYT48ZGl2IGNsYXNzPVwidHlwZVwiPiR7dW50aGVtZWRMZXNzb25UeXBlfTwvZGl2PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImR1cmF0aW9uXCI+JHttaW51dGVzVG9Ib3Vycyh1bnRoZW1lZGxlc3NvbkR1cmF0aW9uKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0LWJ1dHRvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHt1cFRleHR9XCIgY2xhc3M9XCJidG4taWNvbiBzbWFsbCBidG4taWNvbi0tZ2hvc3QgaWNvbi1jaGV2cm9uLXVwXCI+IDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHtkZWxldGVUZXh0fVwiIGNsYXNzPVwiYnRuLWljb24gc21hbGwgYnRuLWljb24tLWdob3N0IGljb24tdHJhc2gtY2FuXCI+IDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwiJHtkb3duVGV4dH1cIiBjbGFzcz1cImJ0bi1pY29uIHNtYWxsIGJ0bi1pY29uLS1naG9zdCBpY29uLWNoZXZyb24tZG93blwiPiA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7bGVzc29uRWRpdExpbmt9XCIgdGl0bGU9XCIke2VkaXRUZXh0fVwiIGNsYXNzPVwiYnRuLWljb24gc21hbGwgYnRuLWljb24tLWdob3N0IGljb24tZWRpdFwiPiA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidG4taWNvbiBzbWFsbCBpY29uLXBsdXMgaW52aXNpYmxlXCI+IDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gO1xuXG4gICAgICAgICAgICAgICAgLypEZWxldGUqL1xuICAgICAgICAgICAgICAgIHRvcGljV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuaWNvbi10cmFzaC1jYW4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJlbW92ZUxlc3NvbklkID0gaXRlbUlkO1xuICAgICAgICAgICAgICAgICAgICAkLmZhbmN5Ym94Lm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiByZW1vdmVMZXNzb25Nb2RhbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2g6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb3Vyc2VEdXJhdGlvbiArPSB1bnRoZW1lZGxlc3NvbkR1cmF0aW9uO1xuXG4gICAgICAgICAgICAgICAgbGVzc29uc0NvdW50Kys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qTW92ZSB1cCovXG4gICAgICAgICAgICB0b3BpY1dyYXBwZXIucXVlcnlTZWxlY3RvcignLmljb24tY2hldnJvbi11cCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgc3dhcEl0ZW1zKGl0ZW1JZCwgLTEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qTW92ZSBkb3duKi9cbiAgICAgICAgICAgIHRvcGljV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuaWNvbi1jaGV2cm9uLWRvd24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHN3YXBJdGVtcyhpdGVtSWQsIDEpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8qQWRkIGNyZWF0ZWQgdG9waWMgdG8gY291cnNlIGNvbnRhaW5lciovXG4gICAgICAgICAgICBjb3Vyc2VEYXRhQ29udGFpbmVyLmFwcGVuZCh0b3BpY1dyYXBwZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXNzb25zQ291bnRFbC5pbm5lckhUTUwgPSBTdHJpbmcobGVzc29uc0NvdW50KTtcbiAgICAgICAgY291cnNlRHVyYXRpb25FbC5pbm5lckhUTUwgPSBtaW51dGVzVG9Ib3Vycyhjb3Vyc2VEdXJhdGlvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd01vZGFsTXNnKHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW9kYWxNc2dJZCksXG4gICAgICAgICAgICBtb2RhbFRpdGxlID0gbW9kYWwucXVlcnlTZWxlY3RvcignLnRpdGxlLXByaW1hcnknKSxcbiAgICAgICAgICAgIG1vZGFsVGV4dCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5wbGFpbi10ZXh0Jyk7XG5cbiAgICAgICAgbW9kYWxUaXRsZS5pbm5lckhUTUwgPSB0aXRsZTtcbiAgICAgICAgbW9kYWxUZXh0LmlubmVySFRNTCA9IHRleHQ7XG5cbiAgICAgICAgJC5mYW5jeWJveC5vcGVuKHtcbiAgICAgICAgICAgIHNyYzogbW9kYWxNc2dJZCxcbiAgICAgICAgICAgIHRvdWNoOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRPYmplY3RCeUlkKGlkLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBOdW1iZXIoaWQpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SW5kZXhCeUlkKGlkLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IE51bWJlcihpZClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3dhcEl0ZW1zKHRvcGljSWQsIGRpcmVjdGlvbikge1xuICAgICAgICBsZXQgY3VycmVudCA9IGdldE9iamVjdEJ5SWQodG9waWNJZCwgY291cnNlRGF0YSk7XG4gICAgICAgIGxldCBzd2FwSXRlbSA9IGNvdXJzZURhdGEuZmluZChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuICgoaXRlbS5vcmRlciAtIGN1cnJlbnQub3JkZXIpICogZGlyZWN0aW9uID09PSAxKVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc3dhcEl0ZW0pIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoKTtcbiAgICAgICAgICAgIGRhdGFTZXJ2aWNlLnN3YXBJdGVtcyhjdXJyZW50LmlkLCBjdXJyZW50Lml0ZW1UeXBlLCBzd2FwSXRlbS5pZCwgc3dhcEl0ZW0uaXRlbVR5cGUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQub3JkZXIgPSBjdXJyZW50Lm9yZGVyICsgZGlyZWN0aW9uO1xuICAgICAgICAgICAgICAgIHN3YXBJdGVtLm9yZGVyID0gY3VycmVudC5vcmRlciAtIGRpcmVjdGlvbjtcbiAgICAgICAgICAgICAgICByZW5kZXJEYXRhKCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTG9hZGluZygpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN3YXBMZXNzb25zKGxlc3NvbklkLCBsZXNzb25zLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBnZXRPYmplY3RCeUlkKGxlc3NvbklkLCBsZXNzb25zKTtcbiAgICAgICAgbGV0IHN3YXBJdGVtID0gbGVzc29ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gKChpdGVtLm9yZGVyIC0gY3VycmVudC5vcmRlcikgKiBkaXJlY3Rpb24gPT09IDEpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzd2FwSXRlbSkge1xuICAgICAgICAgICAgc2V0TG9hZGluZygpO1xuICAgICAgICAgICAgZGF0YVNlcnZpY2Uuc3dhcExlc3NvbnNPcmRlcnMoY3VycmVudC5pZCwgc3dhcEl0ZW0uaWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQub3JkZXIgPSBjdXJyZW50Lm9yZGVyICsgZGlyZWN0aW9uO1xuICAgICAgICAgICAgICAgIHN3YXBJdGVtLm9yZGVyID0gY3VycmVudC5vcmRlciAtIGRpcmVjdGlvbjtcbiAgICAgICAgICAgICAgICByZW5kZXJEYXRhKCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlTG9hZGluZygpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1pbnV0ZXNUb0hvdXJzKG1pbnV0ZXMpIHtcbiAgICAgICAgbGV0IGhvdXJzID0gcGFyc2VJbnQobWludXRlcyAvIDYwKTtcbiAgICAgICAgbGV0IGZvcm1hdHRlZEhvdXJzID0gYWRkWmVyb1RvTnVtYmVyKGhvdXJzKTtcbiAgICAgICAgbGV0IGZvcm1hdHRlZE1pbnV0ZXMgPSBhZGRaZXJvVG9OdW1iZXIobWludXRlcyAlIDYwKTtcblxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkSG91cnMgKyAnOicgKyBmb3JtYXR0ZWRNaW51dGVzXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkWmVyb1RvTnVtYmVyKG51bWJlcikge1xuICAgICAgICByZXR1cm4gU3RyaW5nKG51bWJlcikubGVuZ3RoID09PSAxID8gJzAnICsgU3RyaW5nKG51bWJlcikgOiBTdHJpbmcobnVtYmVyKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldExvYWRpbmcoKSB7XG4gICAgICAgIGNvdXJzZURhdGFDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbG9hZGluZy1kZWZhdWx0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlTG9hZGluZygpIHtcbiAgICAgICAgY291cnNlRGF0YUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nLWRlZmF1bHQnKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZFRvcGljQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCBuYW1lID0gbmV3VG9waWNOYW1lSW5wdXQudmFsdWU7XG5cbiAgICAgICAgICAgIC8qSWYgbmFtZSBpbnB1dCBpcyBlbXB0eSBoaWdobGlnaHQgaW5wdXQgYW5kIHN0b3AgdGhlIHNjcmlwdCovXG4gICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICBuZXdUb3BpY05hbWVJbnB1dC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qUmVtb3ZlIGlucHV0J3MgcmVkIGhpZ2hsaWdodCBhbmQgc2VuZCBuZXcgdG9waWMgdG8gc2VydmVyKi9cbiAgICAgICAgICAgIG5ld1RvcGljTmFtZUlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbiAgICAgICAgICAgIGRhdGFTZXJ2aWNlLmFkZFRvcGljKGNvdXJzZUlkLCBuYW1lKS50aGVuKGZ1bmN0aW9uICh7aWQsIG5hbWV9KSB7XG4gICAgICAgICAgICAgICAgY291cnNlRGF0YS5wdXNoKGFkZFRvcGljKGlkLCBuYW1lKSk7IC8vdW5jb21tZW50IG9uIHByb2R1Y3Rpb25cbiAgICAgICAgICAgICAgICAvLyBjb3Vyc2VEYXRhLnB1c2goYWRkVG9waWMoaWQgKyBpZEluY3JlbWVudCwgbmFtZSkpOyAvL3JlbW92ZSBvbiBwcm9kdWN0aW9uXG4gICAgICAgICAgICAgICAgLy8gaWRJbmNyZW1lbnQgKz0gMTsgLy9yZW1vdmUgb24gcHJvZHVjdGlvblxuICAgICAgICAgICAgICAgIHBhcmVudC5qUXVlcnkuZmFuY3lib3guZ2V0SW5zdGFuY2UoKS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJlbmRlckRhdGEoKTtcbiAgICAgICAgICAgICAgICBuZXdUb3BpY05hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWRpdFRvcGljQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCBuYW1lID0gZWRpdFRvcGljTmFtZUlucHV0LnZhbHVlO1xuXG4gICAgICAgICAgICAvKklmIG5hbWUgaW5wdXQgaXMgZW1wdHkgaGlnaGxpZ2h0IGlucHV0IGFuZCBzdG9wIHRoZSBzY3JpcHQqL1xuICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgbmV3VG9waWNOYW1lSW5wdXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKlJlbW92ZSBpbnB1dCdzIHJlZCBoaWdobGlnaHQgYW5kIHNlbmQgbmV3IHRvcGljIG5hbWUgdG8gc2VydmVyKi9cbiAgICAgICAgICAgIG5ld1RvcGljTmFtZUlucHV0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbiAgICAgICAgICAgIGRhdGFTZXJ2aWNlLmVkaXRUb3BpYyhjdXJyZW50RWRpdFRvcGljSWQsIG5hbWUpLnRoZW4oZnVuY3Rpb24gKHttc2dUaXRsZSwgbXNnVGV4dH0pIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQualF1ZXJ5LmZhbmN5Ym94LmdldEluc3RhbmNlKCkuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzaG93TW9kYWxNc2cobXNnVGl0bGUsIG1zZ1RleHQpO1xuICAgICAgICAgICAgICAgIH0sIDM4MCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudE9iaiA9IGdldE9iamVjdEJ5SWQoY3VycmVudEVkaXRUb3BpY0lkLCBjb3Vyc2VEYXRhKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyRGF0YSgpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVtb3ZlVG9waWNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZGF0YVNlcnZpY2UucmVtb3ZlVG9waWMoY3VycmVudFJlbW92ZVRvcGljSWQpLnRoZW4oZnVuY3Rpb24gKHttc2dUaXRsZSwgbXNnVGV4dH0pIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQualF1ZXJ5LmZhbmN5Ym94LmdldEluc3RhbmNlKCkuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzaG93TW9kYWxNc2cobXNnVGl0bGUsIG1zZ1RleHQpO1xuICAgICAgICAgICAgICAgIH0sIDM4MCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudE9iakluZGV4ID0gZ2V0SW5kZXhCeUlkKGN1cnJlbnRSZW1vdmVUb3BpY0lkLCBjb3Vyc2VEYXRhKTtcblxuICAgICAgICAgICAgICAgIGNvdXJzZURhdGEuc3BsaWNlKGN1cnJlbnRPYmpJbmRleCwgMSk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gY3VycmVudE9iakluZGV4OyBpIDwgY291cnNlRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VEYXRhW2ldLm9yZGVyLS1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZW5kZXJEYXRhKCk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZW1vdmVMZXNzb25CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZGF0YVNlcnZpY2UucmVtb3ZlTGVzc29uKGN1cnJlbnRSZW1vdmVUb3BpY0lkLCBjdXJyZW50UmVtb3ZlTGVzc29uSWQpLnRoZW4oZnVuY3Rpb24gKHttc2dUaXRsZSwgbXNnVGV4dH0pIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQualF1ZXJ5LmZhbmN5Ym94LmdldEluc3RhbmNlKCkuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzaG93TW9kYWxNc2cobXNnVGl0bGUsIG1zZ1RleHQpO1xuICAgICAgICAgICAgICAgIH0sIDM4MCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgbGVzc29ucyA9IGdldE9iamVjdEJ5SWQoY3VycmVudFJlbW92ZVRvcGljSWQsIGNvdXJzZURhdGEpLmxlc3NvbnM7XG5cbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudE9iakluZGV4ID0gZ2V0SW5kZXhCeUlkKGN1cnJlbnRSZW1vdmVMZXNzb25JZCwgbGVzc29ucyk7XG5cbiAgICAgICAgICAgICAgICBsZXNzb25zLnNwbGljZShjdXJyZW50T2JqSW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRPYmpJbmRleDsgaSA8IGxlc3NvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGVzc29uc1tpXS5vcmRlci0tXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVuZGVyRGF0YSgpO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBkYXRhU2VydmljZS5nZXRDb3Vyc2VEYXRhKGNvdXJzZUlkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBjb3Vyc2VEYXRhID0gWy4uLmRhdGFdO1xuICAgICAgICAgICAgcmVuZGVyRGF0YSgpO1xuICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5yZW5kZXJEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZW5kZXJEYXRhKCk7XG4gICAgfTtcbn07Il0sImZpbGUiOiJjb3Vyc2UtZWRpdC5qcyJ9
