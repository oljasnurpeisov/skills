let ajaxSelect=function(a,b=null,c=!0){function d(a=null,b="",c=!1,d=!0){$.ajax({type:"GET",url:e.url,data:{...a,name:b},success:function(a){d&&e.controls.clearOptions(),0===a.data.length?(e.controls.$control[0].classList.add("no-results"),e.addMessage()):(e.saveOldOptions(),e.el.data("default")&&e.addDefaultOption(),e.renderNewOptions(a.data),c&&e.focusOnSearchField(b),e.removeMessage()),e.pageCounter=1,e.lastPage=a.current_page===a.last_page},error:function(a){console.log(a)}})}let e=this;this.el=a,this.parentEl=b,this.multiLang=c,this.method=this.el.data("method"),this.domainName=document.location.origin,this.lang=window.Laravel.lang,this.url=this.domainName+"/"+this.lang+"/"+this.method,this.pageCounter=1,this.lastPage=!1,this.loadEnable=!0,this.select=this.el.selectize({plugins:this.el[0].hasAttribute("multiple")?["remove_button","silent_remove","stop_backspace_delete"]:null,allowEmptyOption:!0,maxOptions:1e4,onInitialize:function(){let a=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null;d(a)},onChange:function(){this.$input[0].dispatchEvent(changeEvent)}}),this.controls=this.select[0].selectize,this.dropdownContent=this.controls.$dropdown_content,this.noResultsDefaultMsg={en:"No results",ru:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",kk:"\u0415\u0448\u0442\u0435\u043D\u0435 \u0442\u0430\u0431\u044B\u043B\u0433\u0430\u043D \u0436\u043E\u043A"},this.noResultsMsg=this.controls.$input[0].dataset.noresults?this.controls.$input[0].dataset.noresults:this.noResultsDefaultMsg[this.lang],this.controls.on("type",delay(function(a){let b=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null;d(b,a,!0)},1e3)),this.controls.on("change",function(){e.controls.$control_input[0].placeholder=e.el[0].attributes.placeholder.value,e.loadEnable=!1,setTimeout(function(){e.loadEnable=!0},150)}),this.controls.on("blur",function(){e.controls.$control[0].classList.remove("no-results"),e.removeMessage()}),this.controls.on("focus",function(){e.el[0].hasAttribute("multiple")||e.controls.clear()}),this.dropdownContent.on("scroll",function(){let a=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null,b=e.dropdownContent[0].scrollHeight-e.dropdownContent[0].scrollTop-e.dropdownContent[0].clientHeight;if(1e3>b&&e.loadEnable&&!e.lastPage){e.loadEnable=!1,e.controls.$dropdown[0].classList.add("loading");let b=e.dropdownContent[0].scrollTop;e.getNextPage(a,b)}}),this.renderNewOptions=function(a){let b=[];a.forEach(function(a){b.push({value:a.id,text:a["name"+(e.multiLang?"_"+e.lang:"")]})}),e.controls.addOption(b)},this.saveOldOptions=function(){let a=[];Object.values(e.controls.options).forEach(b=>{a.push(b.value)}),e.controls.setValue(a)},this.addMessage=function(){let a=document.createElement("div");a.className="noresults-message",a.innerHTML=e.noResultsMsg,e.controls.$control[0].parentElement.append(a)},this.removeMessage=function(){let a=e.controls.$control[0].parentElement.querySelector(".noresults-message");a&&a.remove()},this.focusOnSearchField=function(a){e.controls.setTextboxValue(a),e.controls.focus()},this.addDefaultOption=function(){e.controls.addOption({$order:0,value:"",text:e.el.data("default")})},this.getNextPage=function(a,b){$.ajax({type:"GET",url:e.url,data:{...a,name:e.controls.lastQuery,page:e.pageCounter+1},success:function(a){e.renderNewOptions(a.data),e.controls.refreshOptions(),e.loadEnable=!0,e.pageCounter++,setTimeout(function(){e.controls.$dropdown[0].classList.remove("loading")},150),e.dropdownContent[0].scrollTop=b,a.current_page===a.last_page&&(e.lastPage=!0)},error:function(a){console.log(a)}})},this.update=function(a){d(a)},this.clear=function(){e.controls.clear()}},ajaxSelect2=function(a,b=!0,c=null,d=null){function e(a,b="",c=!1,d=!0){-1!==a&&$.ajax({type:"GET",url:f.url+"/"+a,data:{name:b},success:function(a){d&&f.controls.clearOptions(),0===a.data.length?(f.controls.$control[0].classList.add("no-results"),f.addMessage()):(f.saveOldOptions(),f.el.data("default")&&f.addDefaultOption(),f.renderNewOptions(a.data),c&&f.focusOnSearchField(b),f.removeMessage()),f.pageCounter=1,f.lastPage=a.current_page===a.last_page},error:function(a){console.log(a)}})}let f=this;this.el=a,this.multiLang=b,this.skillId=c,this.method=this.el.data("method"),this.domainName=document.location.origin,this.lang=window.Laravel.lang,this.url=this.domainName+"/"+this.lang+"/"+this.method,this.pageCounter=1,this.lastPage=!1,this.loadEnable=!0,this.select=this.el.selectize({plugins:this.el[0].hasAttribute("multiple")?["remove_button","silent_remove","stop_backspace_delete"]:null,allowEmptyOption:!0,maxOptions:1e4,maxItems:d,onInitialize:function(){e(f.skillId)},onChange:function(){this.$input[0].dispatchEvent(changeEvent)}}),this.controls=this.select[0].selectize,this.dropdownContent=this.controls.$dropdown_content,this.noResultsDefaultMsg={en:"No results",ru:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",kk:"\u0415\u0448\u0442\u0435\u043D\u0435 \u0442\u0430\u0431\u044B\u043B\u0433\u0430\u043D \u0436\u043E\u043A"},this.noResultsMsg=this.controls.$input[0].dataset.noresults?this.controls.$input[0].dataset.noresults:this.noResultsDefaultMsg[this.lang],this.controls.on("type",delay(function(a){e(f.skillId,a,!0)},1e3)),this.controls.on("change",function(){f.controls.$control_input[0].placeholder=f.el[0].attributes.placeholder.value,f.loadEnable=!1,setTimeout(function(){f.loadEnable=!0},150)}),this.controls.on("blur",function(){f.controls.$control[0].classList.remove("no-results"),f.removeMessage()}),this.controls.on("focus",function(){f.el[0].hasAttribute("multiple")||f.controls.clear()}),this.dropdownContent.on("scroll",function(){let a=f.parentEl?f.parentEl.val()?{professions:toArray(f.parentEl.val())}:null:null,b=f.dropdownContent[0].scrollHeight-f.dropdownContent[0].scrollTop-f.dropdownContent[0].clientHeight;if(1e3>b&&f.loadEnable&&!f.lastPage){f.loadEnable=!1,f.controls.$dropdown[0].classList.add("loading");let a=f.dropdownContent[0].scrollTop;f.getNextPage(f.skillId,a)}}),this.renderNewOptions=function(a){let b=[];a.forEach(function(a){b.push({value:a.id,text:a["name"+(f.multiLang?"_"+f.lang:"")]})}),f.controls.addOption(b)},this.saveOldOptions=function(){let a=[];Object.values(f.controls.options).forEach(b=>{a.push(b.value)}),f.controls.setValue(a)},this.addMessage=function(){let a=document.createElement("div");a.className="noresults-message",a.innerHTML=f.noResultsMsg,f.controls.$control[0].parentElement.append(a),setTimeout(function(){f.removeMessage()},3e3)},this.removeMessage=function(){let a=f.controls.$control[0].parentElement.querySelector(".noresults-message");a&&a.remove()},this.focusOnSearchField=function(a){f.controls.setTextboxValue(a),f.controls.focus()},this.addDefaultOption=function(){f.controls.addOption({$order:0,value:"",text:f.el.data("default")})},this.getNextPage=function(a,b){$.ajax({type:"GET",url:f.url+"/"+a,data:{name:f.controls.lastQuery,page:f.pageCounter+1},success:function(a){f.renderNewOptions(a.data),f.controls.refreshOptions(),f.loadEnable=!0,f.pageCounter++,setTimeout(function(){f.controls.$dropdown[0].classList.remove("loading")},150),f.dropdownContent[0].scrollTop=b,a.current_page===a.last_page&&(f.lastPage=!0)},error:function(a){console.log(a)}})},this.update=function(a){e(a)},this.clear=function(){this.controls.clear()},this.clearOptions=function(){this.controls.clearOptions()}};function delay(a,b){let c=0;return function(){let d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b||0)}}Selectize.define("silent_remove",function(){let a=this;this.on("item_remove",function(){this.plugin_silent_remove_in_remove=!0}),this.search=function(){let b=a.search;return function(){return"undefined"==typeof this.plugin_silent_remove_in_remove?b.apply(this,arguments):(delete this.plugin_silent_remove_in_remove,{items:{},query:[],tokens:[]})}}()}),Selectize.define("stop_backspace_delete",function(){let a=this;this.deleteSelection=function(){let b=a.deleteSelection;return function(a){return!(a&&8===a.keyCode)&&b.apply(this,arguments)}}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFqYXgtc2VsZWN0LmpzIl0sIm5hbWVzIjpbImFqYXhTZWxlY3QiLCJlbCIsInBhcmVudEVsIiwibXVsdGlMYW5nIiwic2VuZFJlcXVlc3QiLCJhZGRpdGlvbmFsRGF0YSIsInNlYXJjaFZhbHVlIiwiZm9jdXMiLCJjbGVhck9wdGlvbnMiLCIkIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJzZWxmIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsImNvbnRyb2xzIiwibGVuZ3RoIiwiJGNvbnRyb2wiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRNZXNzYWdlIiwic2F2ZU9sZE9wdGlvbnMiLCJhZGREZWZhdWx0T3B0aW9uIiwicmVuZGVyTmV3T3B0aW9ucyIsImZvY3VzT25TZWFyY2hGaWVsZCIsInJlbW92ZU1lc3NhZ2UiLCJwYWdlQ291bnRlciIsImxhc3RQYWdlIiwiY3VycmVudF9wYWdlIiwibGFzdF9wYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibWV0aG9kIiwiZG9tYWluTmFtZSIsImRvY3VtZW50IiwibG9jYXRpb24iLCJvcmlnaW4iLCJsYW5nIiwid2luZG93IiwiTGFyYXZlbCIsImxvYWRFbmFibGUiLCJzZWxlY3QiLCJzZWxlY3RpemUiLCJwbHVnaW5zIiwiaGFzQXR0cmlidXRlIiwiYWxsb3dFbXB0eU9wdGlvbiIsIm1heE9wdGlvbnMiLCJvbkluaXRpYWxpemUiLCJ2YWwiLCJ0b0FycmF5Iiwib25DaGFuZ2UiLCIkaW5wdXQiLCJkaXNwYXRjaEV2ZW50IiwiY2hhbmdlRXZlbnQiLCJkcm9wZG93bkNvbnRlbnQiLCIkZHJvcGRvd25fY29udGVudCIsIm5vUmVzdWx0c0RlZmF1bHRNc2ciLCJlbiIsInJ1Iiwia2siLCJub1Jlc3VsdHNNc2ciLCJkYXRhc2V0Iiwibm9yZXN1bHRzIiwib24iLCJkZWxheSIsIiRjb250cm9sX2lucHV0IiwicGxhY2Vob2xkZXIiLCJhdHRyaWJ1dGVzIiwidmFsdWUiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiY2xlYXIiLCJweFRvQm90dG9tIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsVG9wIiwiY2xpZW50SGVpZ2h0IiwiJGRyb3Bkb3duIiwiZ2V0TmV4dFBhZ2UiLCJuZXdPcHRpb25zIiwiZm9yRWFjaCIsIml0ZW0iLCJwdXNoIiwiaWQiLCJ0ZXh0IiwiYWRkT3B0aW9uIiwic2VsZWN0ZWRWYWx1ZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJvcHRpb25zIiwic2V0VmFsdWUiLCJtZXNzYWdlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsInBhcmVudEVsZW1lbnQiLCJhcHBlbmQiLCJxdWVyeVNlbGVjdG9yIiwic2V0VGV4dGJveFZhbHVlIiwiJG9yZGVyIiwibGFzdFF1ZXJ5IiwicmVmcmVzaE9wdGlvbnMiLCJ1cGRhdGUiLCJhamF4U2VsZWN0MiIsInNraWxsSWQiLCJtYXhJdGVtcyIsInBhcmFtIiwiY2FsbGJhY2siLCJtcyIsInRpbWVyIiwiY29udGV4dCIsImFyZ3MiLCJhcmd1bWVudHMiLCJjbGVhclRpbWVvdXQiLCJhcHBseSIsIlNlbGVjdGl6ZSIsImRlZmluZSIsInBsdWdpbl9zaWxlbnRfcmVtb3ZlX2luX3JlbW92ZSIsInNlYXJjaCIsIm9yaWdpbmFsIiwiaXRlbXMiLCJxdWVyeSIsInRva2VucyIsImRlbGV0ZVNlbGVjdGlvbiIsImUiLCJrZXlDb2RlIl0sIm1hcHBpbmdzIjoiR0FDSUEsQ0FBQUEsVUFBVSxDQUFHLFNBQVVDLENBQVYsQ0FBY0MsQ0FBUSxDQUFHLElBQXpCLENBQStCQyxDQUFTLEdBQXhDLENBQWlELENBMEo5RCxRQUFTQyxDQUFBQSxDQUFULENBQXFCQyxDQUFjLENBQUcsSUFBdEMsQ0FBNENDLENBQVcsQ0FBRyxFQUExRCxDQUE4REMsQ0FBSyxHQUFuRSxDQUE2RUMsQ0FBWSxHQUF6RixDQUFrRyxDQUM5RkMsQ0FBQyxDQUFDQyxJQUFGLENBQU8sQ0FDSEMsSUFBSSxDQUFFLEtBREgsQ0FFSEMsR0FBRyxDQUFFQyxDQUFJLENBQUNELEdBRlAsQ0FH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RCw4QkFERixDQVVKRSxDQUFRLENBQUNMLEtBQVQsQ0FBZSxJQUFmLENBQXFCRixTQUFyQixDQVZJLEVBR1gsTUFBTyxNQUFLSyw4QkFIRCxDQUlKLENBQ0hHLEtBQUssQ0FBRSxFQURKLENBRUhDLEtBQUssQ0FBRSxFQUZKLENBR0hDLE1BQU0sQ0FBRSxFQUhMLENBSkksQ0FZbEIsQ0FDSixDQWZhLEVBZ0JqQixDQXhCRCxDLENBMEJBUCxTQUFTLENBQUNDLE1BQVYsQ0FBaUIsdUJBQWpCLENBQTBDLFVBQW1CLENBQ3pELEdBQUl6RyxDQUFBQSxDQUFJLENBQUcsSUFBWCxDQUVBLEtBQUtnSCxlQUFMLENBQXdCLFVBQVksQ0FDaEMsR0FBSUosQ0FBQUEsQ0FBUSxDQUFHNUcsQ0FBSSxDQUFDZ0gsZUFBcEIsQ0FFQSxNQUFPLFVBQVVDLENBQVYsQ0FBYSxTQUNYQSxDQUFELEVBQW9CLENBQWQsR0FBQUEsQ0FBQyxDQUFDQyxPQURJLEdBRUxOLENBQVEsQ0FBQ0wsS0FBVCxDQUFlLElBQWYsQ0FBcUJGLFNBQXJCLENBSWQsQ0FDSixDQVZzQixFQVcxQixDQWRELEMiLCJzb3VyY2VzQ29udGVudCI6WyIvL0FqYXggc2VsZWN0IGNvbnN0cnVjdG9yXG5sZXQgYWpheFNlbGVjdCA9IGZ1bmN0aW9uIChlbCwgcGFyZW50RWwgPSBudWxsLCBtdWx0aUxhbmcgPSB0cnVlKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMucGFyZW50RWwgPSBwYXJlbnRFbDtcbiAgICB0aGlzLm11bHRpTGFuZyA9IG11bHRpTGFuZztcblxuICAgIHRoaXMubWV0aG9kID0gdGhpcy5lbC5kYXRhKCdtZXRob2QnKTtcbiAgICAvLyB0aGlzLmRvbWFpbk5hbWUgPSAnaHR0cHM6Ly9kZXYzLnBhbmFtYS5reic7XG4gICAgdGhpcy5kb21haW5OYW1lID0gZG9jdW1lbnQubG9jYXRpb24ub3JpZ2luO1xuICAgIHRoaXMubGFuZyA9IHdpbmRvdy5MYXJhdmVsLmxhbmc7XG4gICAgdGhpcy51cmwgPSB0aGlzLmRvbWFpbk5hbWUgKyAnLycgKyB0aGlzLmxhbmcgKyAnLycgKyB0aGlzLm1ldGhvZDtcbiAgICB0aGlzLnBhZ2VDb3VudGVyID0gMTtcbiAgICB0aGlzLmxhc3RQYWdlID0gZmFsc2U7XG4gICAgdGhpcy5sb2FkRW5hYmxlID0gdHJ1ZTtcblxuICAgIC8vaW5pdCBTZWxlY3RpemVcbiAgICB0aGlzLnNlbGVjdCA9IHRoaXMuZWwuc2VsZWN0aXplKHtcbiAgICAgICAgcGx1Z2luczogdGhpcy5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykgPyBbJ3JlbW92ZV9idXR0b24nLCAnc2lsZW50X3JlbW92ZScsICdzdG9wX2JhY2tzcGFjZV9kZWxldGUnXSA6IG51bGwsXG4gICAgICAgIGFsbG93RW1wdHlPcHRpb246IHRydWUsXG4gICAgICAgIG1heE9wdGlvbnM6IDEwMDAwLFxuICAgICAgICBvbkluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsRGF0YSA9IHNlbGYucGFyZW50RWwgPyAoc2VsZi5wYXJlbnRFbC52YWwoKSA/IHsncHJvZmVzc2lvbnMnOiB0b0FycmF5KHNlbGYucGFyZW50RWwudmFsKCkpfSA6IG51bGwpIDogbnVsbDtcbiAgICAgICAgICAgIHNlbmRSZXF1ZXN0KGFkZGl0aW9uYWxEYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0WzBdLmRpc3BhdGNoRXZlbnQoY2hhbmdlRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy9mZXRjaCB0aGUgaW5zdGFuY2VcbiAgICB0aGlzLmNvbnRyb2xzID0gdGhpcy5zZWxlY3RbMF0uc2VsZWN0aXplO1xuICAgIHRoaXMuZHJvcGRvd25Db250ZW50ID0gdGhpcy5jb250cm9scy4kZHJvcGRvd25fY29udGVudDtcbiAgICB0aGlzLm5vUmVzdWx0c0RlZmF1bHRNc2cgPSB7XG4gICAgICAgIGVuOiAnTm8gcmVzdWx0cycsXG4gICAgICAgIHJ1OiAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4nLFxuICAgICAgICBrazogJ9CV0YjRgtC10L3QtSDRgtCw0LHRi9C70LPQsNC9INC20L7QuidcbiAgICB9O1xuICAgIHRoaXMubm9SZXN1bHRzTXNnID0gdGhpcy5jb250cm9scy4kaW5wdXRbMF0uZGF0YXNldC5ub3Jlc3VsdHMgPyB0aGlzLmNvbnRyb2xzLiRpbnB1dFswXS5kYXRhc2V0Lm5vcmVzdWx0cyA6IHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZ1t0aGlzLmxhbmddO1xuXG4gICAgLy9PbiB0eXBlIGV2ZW50XG4gICAgdGhpcy5jb250cm9scy5vbigndHlwZScsIGRlbGF5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhID0gc2VsZi5wYXJlbnRFbCA/IChzZWxmLnBhcmVudEVsLnZhbCgpID8geydwcm9mZXNzaW9ucyc6IHRvQXJyYXkoc2VsZi5wYXJlbnRFbC52YWwoKSl9IDogbnVsbCkgOiBudWxsO1xuICAgICAgICBzZW5kUmVxdWVzdChhZGRpdGlvbmFsRGF0YSwgdmFsLCB0cnVlKTtcbiAgICB9LCAxMDAwKSk7XG5cbiAgICB0aGlzLmNvbnRyb2xzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sX2lucHV0WzBdLnBsYWNlaG9sZGVyID0gc2VsZi5lbFswXS5hdHRyaWJ1dGVzLnBsYWNlaG9sZGVyLnZhbHVlO1xuICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSB0cnVlO1xuICAgICAgICB9LCAxNTApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb250cm9scy5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5jbGFzc0xpc3QucmVtb3ZlKCduby1yZXN1bHRzJyk7XG4gICAgICAgIHNlbGYucmVtb3ZlTWVzc2FnZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb250cm9scy5vbignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghc2VsZi5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcbiAgICAgICAgICAgIHNlbGYuY29udHJvbHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5kcm9wZG93bkNvbnRlbnQub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhID0gc2VsZi5wYXJlbnRFbCA/IChzZWxmLnBhcmVudEVsLnZhbCgpID8geydwcm9mZXNzaW9ucyc6IHRvQXJyYXkoc2VsZi5wYXJlbnRFbC52YWwoKSl9IDogbnVsbCkgOiBudWxsO1xuICAgICAgICBsZXQgcHhUb0JvdHRvbSA9IHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbEhlaWdodCAtIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbFRvcCAtIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKHB4VG9Cb3R0b20gPCAxMDAwICYmIHNlbGYubG9hZEVuYWJsZSAmJiAhc2VsZi5sYXN0UGFnZSkge1xuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xzLiRkcm9wZG93blswXS5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgIHNlbGYuZ2V0TmV4dFBhZ2UoYWRkaXRpb25hbERhdGEsIHNjcm9sbFRvcCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMucmVuZGVyTmV3T3B0aW9ucyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgbGV0IG5ld09wdGlvbnMgPSBbXTtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBuZXdPcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW1bXCJuYW1lXCIgKyAoc2VsZi5tdWx0aUxhbmcgPyAnXycgKyBzZWxmLmxhbmcgOiAnJyldXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKG5ld09wdGlvbnMpO1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVPbGRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZFZhbHVlcyA9IFtdO1xuICAgICAgICBPYmplY3QudmFsdWVzKHNlbGYuY29udHJvbHMub3B0aW9ucykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChpdGVtLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuY29udHJvbHMuc2V0VmFsdWUoc2VsZWN0ZWRWYWx1ZXMpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZE1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWVzc2FnZS5jbGFzc05hbWUgPSAnbm9yZXN1bHRzLW1lc3NhZ2UnO1xuICAgICAgICBtZXNzYWdlLmlubmVySFRNTCA9IHNlbGYubm9SZXN1bHRzTXNnO1xuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQuYXBwZW5kKG1lc3NhZ2UpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZU1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm5vcmVzdWx0cy1tZXNzYWdlJyk7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBtZXNzYWdlLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZm9jdXNPblNlYXJjaEZpZWxkID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHNlbGYuY29udHJvbHMuc2V0VGV4dGJveFZhbHVlKHZhbCk7XG4gICAgICAgIHNlbGYuY29udHJvbHMuZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGREZWZhdWx0T3B0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKHtcbiAgICAgICAgICAgICRvcmRlcjogMCxcbiAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgIHRleHQ6IHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldE5leHRQYWdlID0gZnVuY3Rpb24oYWRkaXRpb25hbERhdGEsIHNjcm9sbFRvcCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6IHNlbGYudXJsLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC4uLmFkZGl0aW9uYWxEYXRhLFxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBzZWxmLmNvbnRyb2xzLmxhc3RRdWVyeSxcbiAgICAgICAgICAgICAgICBcInBhZ2VcIjogc2VsZi5wYWdlQ291bnRlciArIDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlbmRlck5ld09wdGlvbnMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy5yZWZyZXNoT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIHNlbGYubG9hZEVuYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlQ291bnRlcisrO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGRyb3Bkb3duWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICB9LCAxNTApO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmN1cnJlbnRfcGFnZSA9PT0gcmVzcG9uc2UubGFzdF9wYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGFzdFBhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2VuZFJlcXVlc3QoYWRkaXRpb25hbERhdGEgPSBudWxsLCBzZWFyY2hWYWx1ZSA9ICcnLCBmb2N1cyA9IGZhbHNlLCBjbGVhck9wdGlvbnMgPSB0cnVlKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogc2VsZi51cmwsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgLi4uYWRkaXRpb25hbERhdGEsXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IHNlYXJjaFZhbHVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsZWFyT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLmNsZWFyT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCAhPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2F2ZU9sZE9wdGlvbnMoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5lbC5kYXRhKCdkZWZhdWx0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkRGVmYXVsdE9wdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW5kZXJOZXdPcHRpb25zKHJlc3BvbnNlLmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2N1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5mb2N1c09uU2VhcmNoRmllbGQoc2VhcmNoVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5jbGFzc0xpc3QuYWRkKCduby1yZXN1bHRzJyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYucGFnZUNvdW50ZXIgPSAxO1xuICAgICAgICAgICAgICAgIHNlbGYubGFzdFBhZ2UgPSAocmVzcG9uc2UuY3VycmVudF9wYWdlID09PSByZXNwb25zZS5sYXN0X3BhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsRGF0YSkge1xuICAgICAgICBzZW5kUmVxdWVzdChhZGRpdGlvbmFsRGF0YSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuY29udHJvbHMuY2xlYXIoKTtcbiAgICB9O1xufTtcblxubGV0IGFqYXhTZWxlY3QyID0gZnVuY3Rpb24gKGVsLCBtdWx0aUxhbmcgPSB0cnVlLCBza2lsbElkID0gbnVsbCwgbWF4SXRlbXMgPSBudWxsKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMubXVsdGlMYW5nID0gbXVsdGlMYW5nO1xuICAgIHRoaXMuc2tpbGxJZCA9IHNraWxsSWQ7XG5cbiAgICB0aGlzLm1ldGhvZCA9IHRoaXMuZWwuZGF0YSgnbWV0aG9kJyk7XG4gICAgLy8gdGhpcy5kb21haW5OYW1lID0gJ2h0dHBzOi8vZGV2My5wYW5hbWEua3onO1xuICAgIHRoaXMuZG9tYWluTmFtZSA9IGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbjtcbiAgICB0aGlzLmxhbmcgPSB3aW5kb3cuTGFyYXZlbC5sYW5nO1xuICAgIHRoaXMudXJsID0gdGhpcy5kb21haW5OYW1lICsgJy8nICsgdGhpcy5sYW5nICsgJy8nICsgdGhpcy5tZXRob2Q7XG4gICAgdGhpcy5wYWdlQ291bnRlciA9IDE7XG4gICAgdGhpcy5sYXN0UGFnZSA9IGZhbHNlO1xuICAgIHRoaXMubG9hZEVuYWJsZSA9IHRydWU7XG5cbiAgICAvL2luaXQgU2VsZWN0aXplXG4gICAgdGhpcy5zZWxlY3QgPSB0aGlzLmVsLnNlbGVjdGl6ZSh7XG4gICAgICAgIHBsdWdpbnM6IHRoaXMuZWxbMF0uaGFzQXR0cmlidXRlKCdtdWx0aXBsZScpID8gWydyZW1vdmVfYnV0dG9uJywgJ3NpbGVudF9yZW1vdmUnLCAnc3RvcF9iYWNrc3BhY2VfZGVsZXRlJ10gOiBudWxsLFxuICAgICAgICBhbGxvd0VtcHR5T3B0aW9uOiB0cnVlLFxuICAgICAgICBtYXhPcHRpb25zOiAxMDAwMCxcbiAgICAgICAgbWF4SXRlbXM6IG1heEl0ZW1zLFxuICAgICAgICBvbkluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbmRSZXF1ZXN0KHNlbGYuc2tpbGxJZCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuJGlucHV0WzBdLmRpc3BhdGNoRXZlbnQoY2hhbmdlRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy9mZXRjaCB0aGUgaW5zdGFuY2VcbiAgICB0aGlzLmNvbnRyb2xzID0gdGhpcy5zZWxlY3RbMF0uc2VsZWN0aXplO1xuICAgIHRoaXMuZHJvcGRvd25Db250ZW50ID0gdGhpcy5jb250cm9scy4kZHJvcGRvd25fY29udGVudDtcbiAgICB0aGlzLm5vUmVzdWx0c0RlZmF1bHRNc2cgPSB7XG4gICAgICAgIGVuOiAnTm8gcmVzdWx0cycsXG4gICAgICAgIHJ1OiAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4nLFxuICAgICAgICBrazogJ9CV0YjRgtC10L3QtSDRgtCw0LHRi9C70LPQsNC9INC20L7QuidcbiAgICB9O1xuICAgIHRoaXMubm9SZXN1bHRzTXNnID0gdGhpcy5jb250cm9scy4kaW5wdXRbMF0uZGF0YXNldC5ub3Jlc3VsdHMgPyB0aGlzLmNvbnRyb2xzLiRpbnB1dFswXS5kYXRhc2V0Lm5vcmVzdWx0cyA6IHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZ1t0aGlzLmxhbmddO1xuXG4gICAgLy9PbiB0eXBlIGV2ZW50XG4gICAgdGhpcy5jb250cm9scy5vbigndHlwZScsIGRlbGF5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgc2VuZFJlcXVlc3Qoc2VsZi5za2lsbElkLCB2YWwsIHRydWUpO1xuICAgIH0sIDEwMDApKTtcblxuICAgIHRoaXMuY29udHJvbHMub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbF9pbnB1dFswXS5wbGFjZWhvbGRlciA9IHNlbGYuZWxbMF0uYXR0cmlidXRlcy5wbGFjZWhvbGRlci52YWx1ZTtcbiAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gZmFsc2U7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgfSwgMTUwKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29udHJvbHMub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0uY2xhc3NMaXN0LnJlbW92ZSgnbm8tcmVzdWx0cycpO1xuICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY29udHJvbHMub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNlbGYuZWxbMF0uaGFzQXR0cmlidXRlKCdtdWx0aXBsZScpKSB7XG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuZHJvcGRvd25Db250ZW50Lm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBhZGRpdGlvbmFsRGF0YSA9IHNlbGYucGFyZW50RWwgPyAoc2VsZi5wYXJlbnRFbC52YWwoKSA/IHsncHJvZmVzc2lvbnMnOiB0b0FycmF5KHNlbGYucGFyZW50RWwudmFsKCkpfSA6IG51bGwpIDogbnVsbDtcbiAgICAgICAgbGV0IHB4VG9Cb3R0b20gPSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxIZWlnaHQgLSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3AgLSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIGlmIChweFRvQm90dG9tIDwgMTAwMCAmJiBzZWxmLmxvYWRFbmFibGUgJiYgIXNlbGYubGFzdFBhZ2UpIHtcbiAgICAgICAgICAgIHNlbGYubG9hZEVuYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5jb250cm9scy4kZHJvcGRvd25bMF0uY2xhc3NMaXN0LmFkZCgnbG9hZGluZycpO1xuXG4gICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICBzZWxmLmdldE5leHRQYWdlKHNlbGYuc2tpbGxJZCwgc2Nyb2xsVG9wKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5yZW5kZXJOZXdPcHRpb25zID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBsZXQgbmV3T3B0aW9ucyA9IFtdO1xuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIG5ld09wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgdGV4dDogaXRlbVtcIm5hbWVcIiArIChzZWxmLm11bHRpTGFuZyA/ICdfJyArIHNlbGYubGFuZyA6ICcnKV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZi5jb250cm9scy5hZGRPcHRpb24obmV3T3B0aW9ucyk7XG4gICAgfTtcblxuICAgIHRoaXMuc2F2ZU9sZE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gW107XG4gICAgICAgIE9iamVjdC52YWx1ZXMoc2VsZi5jb250cm9scy5vcHRpb25zKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlcy5wdXNoKGl0ZW0udmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZi5jb250cm9scy5zZXRWYWx1ZShzZWxlY3RlZFZhbHVlcyk7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkTWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtZXNzYWdlLmNsYXNzTmFtZSA9ICdub3Jlc3VsdHMtbWVzc2FnZSc7XG4gICAgICAgIG1lc3NhZ2UuaW5uZXJIVE1MID0gc2VsZi5ub1Jlc3VsdHNNc2c7XG4gICAgICAgIHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0ucGFyZW50RWxlbWVudC5hcHBlbmQobWVzc2FnZSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5yZW1vdmVNZXNzYWdlKCk7XG4gICAgICAgIH0sIDMwMDApO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZU1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm5vcmVzdWx0cy1tZXNzYWdlJyk7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBtZXNzYWdlLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZm9jdXNPblNlYXJjaEZpZWxkID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHNlbGYuY29udHJvbHMuc2V0VGV4dGJveFZhbHVlKHZhbCk7XG4gICAgICAgIHNlbGYuY29udHJvbHMuZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGREZWZhdWx0T3B0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKHtcbiAgICAgICAgICAgICRvcmRlcjogMCxcbiAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgIHRleHQ6IHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldE5leHRQYWdlID0gZnVuY3Rpb24oc2tpbGxJZCwgc2Nyb2xsVG9wKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogc2VsZi51cmwgKyAnLycgKyBza2lsbElkLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBzZWxmLmNvbnRyb2xzLmxhc3RRdWVyeSxcbiAgICAgICAgICAgICAgICBcInBhZ2VcIjogc2VsZi5wYWdlQ291bnRlciArIDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlbmRlck5ld09wdGlvbnMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy5yZWZyZXNoT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIHNlbGYubG9hZEVuYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlQ291bnRlcisrO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGRyb3Bkb3duWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICB9LCAxNTApO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmN1cnJlbnRfcGFnZSA9PT0gcmVzcG9uc2UubGFzdF9wYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGFzdFBhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2VuZFJlcXVlc3Qoc2tpbGxJZCwgc2VhcmNoVmFsdWUgPSAnJywgZm9jdXMgPSBmYWxzZSwgY2xlYXJPcHRpb25zID0gdHJ1ZSkge1xuICAgICAgICBpZiAoc2tpbGxJZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBzZWxmLnVybCArICcvJyArIHNraWxsSWQsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogc2VhcmNoVmFsdWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xlYXJPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLmNsZWFyT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoICE9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2F2ZU9sZE9wdGlvbnMoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGREZWZhdWx0T3B0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyTmV3T3B0aW9ucyhyZXNwb25zZS5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5mb2N1c09uU2VhcmNoRmllbGQoc2VhcmNoVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0uY2xhc3NMaXN0LmFkZCgnbm8tcmVzdWx0cycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VDb3VudGVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UGFnZSA9IChyZXNwb25zZS5jdXJyZW50X3BhZ2UgPT09IHJlc3BvbnNlLmxhc3RfcGFnZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICBzZW5kUmVxdWVzdChwYXJhbSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udHJvbHMuY2xlYXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5jbGVhck9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udHJvbHMuY2xlYXJPcHRpb25zKCk7XG4gICAgfVxuXG4gICAgLy8gdGhpcy5yZW1vdmVNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vICAgICByZW1vdmVNZXNzYWdlKCk7XG4gICAgLy8gfVxufTtcblxuLy9EZWxheSBmdW5jdGlvblxuZnVuY3Rpb24gZGVsYXkoY2FsbGJhY2ssIG1zKSB7XG4gICAgbGV0IHRpbWVyID0gMDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgfSwgbXMgfHwgMCk7XG4gICAgfTtcbn1cblxuU2VsZWN0aXplLmRlZmluZSgnc2lsZW50X3JlbW92ZScsIGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gZGVmYW5nIHRoZSBpbnRlcm5hbCBzZWFyY2ggbWV0aG9kIHdoZW4gcmVtb3ZlIGhhcyBiZWVuIGNsaWNrZWRcbiAgICB0aGlzLm9uKCdpdGVtX3JlbW92ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wbHVnaW5fc2lsZW50X3JlbW92ZV9pbl9yZW1vdmUgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zZWFyY2ggPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgb3JpZ2luYWwgPSBzZWxmLnNlYXJjaDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHRoaXMucGx1Z2luX3NpbGVudF9yZW1vdmVfaW5fcmVtb3ZlKSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gcmUtZW5hYmxlIG5vcm1hbCBzZWFyY2hpbmdcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5wbHVnaW5fc2lsZW50X3JlbW92ZV9pbl9yZW1vdmU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBxdWVyeTogW10sXG4gICAgICAgICAgICAgICAgICAgIHRva2VuczogW11cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KSgpO1xufSk7XG5cblNlbGVjdGl6ZS5kZWZpbmUoXCJzdG9wX2JhY2tzcGFjZV9kZWxldGVcIiwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICB0aGlzLmRlbGV0ZVNlbGVjdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBvcmlnaW5hbCA9IHNlbGYuZGVsZXRlU2VsZWN0aW9uO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKCFlIHx8IGUua2V5Q29kZSAhPT0gOCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfSkoKTtcbn0pO1xuIl0sImZpbGUiOiJhamF4LXNlbGVjdC5qcyJ9
