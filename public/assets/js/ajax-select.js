let ajaxSelect=function(a,b=null,c=!0,d=null){function e(a=null,b="",c=!1,d=!0){$.ajax({type:"GET",url:f.url,data:{...a,name:b},success:function(a){d&&f.controls.clearOptions(!0),0===a.data.length?(f.controls.$control[0].classList.add("no-results"),f.addMessage()):(f.saveOldOptions(),f.el.data("default")&&f.addDefaultOption(),f.renderNewOptions(a.data),c&&f.focusOnSearchField(b),f.removeMessage()),f.pageCounter=1,f.lastPage=a.current_page===a.last_page},error:function(a){console.log(a)}})}let f=this;this.el=a,this.parentEl=b,b&&(this.parentElName=b.attr("name")),this.multiLang=c,this.method=this.el.data("method"),this.domainName="https://dev3.panama.kz",this.lang=window.Laravel.lang,this.url=this.domainName+"/"+this.lang+"/"+this.method,this.pageCounter=1,this.lastPage=!1,this.loadEnable=!0,this.select=this.el.selectize({plugins:this.el[0].hasAttribute("multiple")?["remove_button","silent_remove","stop_backspace_delete"]:null,allowEmptyOption:!0,maxOptions:1e4,maxItems:d?d:a.attr("multiple")?null:1,onInitialize:function(){let a;f.parentEl&&f.parentEl.val()&&(a={},a[f.parentElName]=toArray(f.parentEl.val())),e(a)},onChange:function(){this.$input[0].dispatchEvent(changeEvent)}}),this.controls=this.select[0].selectize,this.dropdownContent=this.controls.$dropdown_content,this.noResultsDefaultMsg={en:"No results",ru:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",kk:"\u0415\u0448\u0442\u0435\u043D\u0435 \u0442\u0430\u0431\u044B\u043B\u0433\u0430\u043D \u0436\u043E\u043A"},this.noResultsMsg=this.controls.$input[0].dataset.noresults?this.controls.$input[0].dataset.noresults:this.noResultsDefaultMsg[this.lang],this.controls.on("type",delay(function(a){let b;f.parentEl&&f.parentEl.val()&&(b={},b[f.parentElName]=toArray(f.parentEl.val())),e(b,a,!0)},1e3)),this.controls.on("change",function(){f.controls.$control_input[0].placeholder=f.el[0].attributes.placeholder.value,f.loadEnable=!1,setTimeout(function(){f.loadEnable=!0},150)}),this.controls.on("blur",function(){f.controls.$control[0].classList.remove("no-results"),f.removeMessage()}),this.controls.on("focus",function(){f.el[0].hasAttribute("multiple")||f.controls.clear()}),this.dropdownContent.on("scroll",function(){let a;f.parentEl&&f.parentEl.val()&&(a={},a[f.parentElName]=toArray(f.parentEl.val()));let b=f.dropdownContent[0].scrollHeight-f.dropdownContent[0].scrollTop-f.dropdownContent[0].clientHeight;if(1e3>b&&f.loadEnable&&!f.lastPage){f.loadEnable=!1,f.controls.$dropdown[0].classList.add("loading");let b=f.dropdownContent[0].scrollTop;f.getNextPage(a,b)}}),this.renderNewOptions=function(a){let b=[];a.forEach(function(a){b.push({value:a.id,text:a["name"+(f.multiLang?"_"+f.lang:"")]})}),f.controls.addOption(b)},this.saveOldOptions=function(){let a=[];Object.values(f.controls.options).forEach(b=>{a.push(b.value)}),f.controls.setValue(a,!0)},this.addMessage=function(){let a=document.createElement("div");a.className="noresults-message",a.innerHTML=f.noResultsMsg,f.controls.$control[0].parentElement.append(a)},this.removeMessage=function(){let a=f.controls.$control[0].parentElement.querySelector(".noresults-message");a&&a.remove()},this.focusOnSearchField=function(a){f.controls.setTextboxValue(a),f.controls.focus()},this.addDefaultOption=function(){f.controls.addOption({$order:0,value:"",text:f.el.data("default")})},this.getNextPage=function(a,b){$.ajax({type:"GET",url:f.url,data:{...a,name:f.controls.lastQuery,page:f.pageCounter+1},success:function(a){f.renderNewOptions(a.data),f.controls.refreshOptions(),f.loadEnable=!0,f.pageCounter++,setTimeout(function(){f.controls.$dropdown[0].classList.remove("loading")},150),f.dropdownContent[0].scrollTop=b,a.current_page===a.last_page&&(f.lastPage=!0)},error:function(a){console.log(a)}})},this.update=function(a){e(a)},this.clear=function(){f.controls.clear(!0)},this.clearOptions=function(){this.controls.clearOptions(!0)}},ajaxSelect2=function(a,b=!0,c=null,d=null){function e(a,b="",c=!1,d=!0){-1!==a&&$.ajax({type:"GET",url:f.url+"/"+a,data:{name:b},success:function(a){d&&f.controls.clearOptions(!0),0===a.data.length?(f.controls.$control[0].classList.add("no-results"),f.addMessage()):(f.saveOldOptions(),f.el.data("default")&&f.addDefaultOption(),f.renderNewOptions(a.data),c&&f.focusOnSearchField(b),f.removeMessage()),f.pageCounter=1,f.lastPage=a.current_page===a.last_page},error:function(a){console.log(a)}})}let f=this;this.el=a,this.multiLang=b,this.skillId=c,this.method=this.el.data("method"),this.domainName="https://dev3.panama.kz",this.lang=window.Laravel.lang,this.url=this.domainName+"/"+this.lang+"/"+this.method,this.pageCounter=1,this.lastPage=!1,this.loadEnable=!0,this.select=this.el.selectize({plugins:this.el[0].hasAttribute("multiple")?["remove_button","silent_remove","stop_backspace_delete"]:null,allowEmptyOption:!0,maxOptions:1e4,maxItems:d,onInitialize:function(){e(f.skillId)},onChange:function(){this.$input[0].dispatchEvent(changeEvent)}}),this.controls=this.select[0].selectize,this.dropdownContent=this.controls.$dropdown_content,this.noResultsDefaultMsg={en:"No results",ru:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",kk:"\u0415\u0448\u0442\u0435\u043D\u0435 \u0442\u0430\u0431\u044B\u043B\u0433\u0430\u043D \u0436\u043E\u043A"},this.noResultsMsg=this.controls.$input[0].dataset.noresults?this.controls.$input[0].dataset.noresults:this.noResultsDefaultMsg[this.lang],this.controls.on("type",delay(function(a){e(f.skillId,a,!0)},1e3)),this.controls.on("change",function(){f.controls.$control_input[0].placeholder=f.el[0].attributes.placeholder.value,f.loadEnable=!1,setTimeout(function(){f.loadEnable=!0},150)}),this.controls.on("blur",function(){f.controls.$control[0].classList.remove("no-results"),f.removeMessage()}),this.controls.on("focus",function(){f.el[0].hasAttribute("multiple")||f.controls.clear()}),this.dropdownContent.on("scroll",function(){let a=f.parentEl?f.parentEl.val()?{professions:toArray(f.parentEl.val())}:null:null,b=f.dropdownContent[0].scrollHeight-f.dropdownContent[0].scrollTop-f.dropdownContent[0].clientHeight;if(1e3>b&&f.loadEnable&&!f.lastPage){f.loadEnable=!1,f.controls.$dropdown[0].classList.add("loading");let a=f.dropdownContent[0].scrollTop;f.getNextPage(f.skillId,a)}}),this.renderNewOptions=function(a){let b=[];a.forEach(function(a){b.push({value:a.id,text:a["name"+(f.multiLang?"_"+f.lang:"")]})}),f.controls.addOption(b)},this.saveOldOptions=function(){let a=[];Object.values(f.controls.options).forEach(b=>{a.push(b.value)}),f.controls.setValue(a)},this.addMessage=function(){let a=document.createElement("div");a.className="noresults-message",a.innerHTML=f.noResultsMsg,f.controls.$control[0].parentElement.append(a),setTimeout(function(){f.removeMessage()},3e3)},this.removeMessage=function(){let a=f.controls.$control[0].parentElement.querySelector(".noresults-message");a&&a.remove()},this.focusOnSearchField=function(a){f.controls.setTextboxValue(a),f.controls.focus()},this.addDefaultOption=function(){f.controls.addOption({$order:0,value:"",text:f.el.data("default")})},this.getNextPage=function(a,b){$.ajax({type:"GET",url:f.url+"/"+a,data:{name:f.controls.lastQuery,page:f.pageCounter+1},success:function(a){f.renderNewOptions(a.data),f.controls.refreshOptions(),f.loadEnable=!0,f.pageCounter++,setTimeout(function(){f.controls.$dropdown[0].classList.remove("loading")},150),f.dropdownContent[0].scrollTop=b,a.current_page===a.last_page&&(f.lastPage=!0)},error:function(a){console.log(a)}})},this.update=function(a){e(a)},this.clear=function(){this.controls.clear(!0)},this.clearOptions=function(){this.controls.clearOptions(!0)}};function delay(a,b){let c=0;return function(){let d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b||0)}}Selectize.define("silent_remove",function(){let a=this;this.on("item_remove",function(){this.plugin_silent_remove_in_remove=!0}),this.search=function(){let b=a.search;return function(){return"undefined"==typeof this.plugin_silent_remove_in_remove?b.apply(this,arguments):(delete this.plugin_silent_remove_in_remove,{items:{},query:[],tokens:[]})}}()}),Selectize.define("stop_backspace_delete",function(){let a=this;this.deleteSelection=function(){let b=a.deleteSelection;return function(a){return!(a&&8===a.keyCode)&&b.apply(this,arguments)}}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFqYXgtc2VsZWN0LmpzIl0sIm5hbWVzIjpbImFqYXhTZWxlY3QiLCJlbCIsInBhcmVudEVsIiwibXVsdGlMYW5nIiwibWF4SXRlbXMiLCJzZW5kUmVxdWVzdCIsImFkZGl0aW9uYWxEYXRhIiwic2VhcmNoVmFsdWUiLCJmb2N1cyIsImNsZWFyT3B0aW9ucyIsIiQiLCJhamF4IiwidHlwZSIsInVybCIsInNlbGYiLCJkYXRhIiwic3VjY2VzcyIsInJlc3BvbnNlIiwiY29udHJvbHMiLCJsZW5ndGgiLCIkY29udHJvbCIsImNsYXNzTGlzdCIsImFkZCIsImFkZE1lc3NhZ2UiLCJzYXZlT2xkT3B0aW9ucyIsImFkZERlZmF1bHRPcHRpb24iLCJyZW5kZXJOZXdPcHRpb25zIiwiZm9jdXNPblNlYXJjaEZpZWxkIiwicmVtb3ZlTWVzc2FnZSIsInBhZ2VDb3VudGVyIiwibGFzdFBhZ2UiLCJjdXJyZW50X3BhZ2UiLCJsYXN0X3BhZ2UiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJwYXJlbnRFbE5hbWUiLCJhdHRyIiwibWV0aG9kIiwiZG9tYWluTmFtZSIsImxhbmciLCJ3aW5kb3ciLCJMYXJhdmVsIiwibG9hZEVuYWJsZSIsInNlbGVjdCIsInNlbGVjdGl6ZSIsInBsdWdpbnMiLCJoYXNBdHRyaWJ1dGUiLCJhbGxvd0VtcHR5T3B0aW9uIiwibWF4T3B0aW9ucyIsIm9uSW5pdGlhbGl6ZSIsInZhbCIsInRvQXJyYXkiLCJvbkNoYW5nZSIsIiRpbnB1dCIsImRpc3BhdGNoRXZlbnQiLCJjaGFuZ2VFdmVudCIsImRyb3Bkb3duQ29udGVudCIsIiRkcm9wZG93bl9jb250ZW50Iiwibm9SZXN1bHRzRGVmYXVsdE1zZyIsImVuIiwicnUiLCJrayIsIm5vUmVzdWx0c01zZyIsImRhdGFzZXQiLCJub3Jlc3VsdHMiLCJvbiIsImRlbGF5IiwiJGNvbnRyb2xfaW5wdXQiLCJwbGFjZWhvbGRlciIsImF0dHJpYnV0ZXMiLCJ2YWx1ZSIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJjbGVhciIsInB4VG9Cb3R0b20iLCJzY3JvbGxIZWlnaHQiLCJzY3JvbGxUb3AiLCJjbGllbnRIZWlnaHQiLCIkZHJvcGRvd24iLCJnZXROZXh0UGFnZSIsIm5ld09wdGlvbnMiLCJmb3JFYWNoIiwiaXRlbSIsInB1c2giLCJpZCIsInRleHQiLCJhZGRPcHRpb24iLCJzZWxlY3RlZFZhbHVlcyIsIk9iamVjdCIsInZhbHVlcyIsIm9wdGlvbnMiLCJzZXRWYWx1ZSIsIm1lc3NhZ2UiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbm5lckhUTUwiLCJwYXJlbnRFbGVtZW50IiwiYXBwZW5kIiwicXVlcnlTZWxlY3RvciIsInNldFRleHRib3hWYWx1ZSIsIiRvcmRlciIsImxhc3RRdWVyeSIsInJlZnJlc2hPcHRpb25zIiwidXBkYXRlIiwiYWpheFNlbGVjdDIiLCJza2lsbElkIiwicGFyYW0iLCJjYWxsYmFjayIsIm1zIiwidGltZXIiLCJjb250ZXh0IiwiYXJncyIsImFyZ3VtZW50cyIsImNsZWFyVGltZW91dCIsImFwcGx5IiwiU2VsZWN0aXplIiwiZGVmaW5lIiwicGx1Z2luX3NpbGVudF9yZW1vdmVfaW5fcmVtb3ZlIiwic2VhcmNoIiwib3JpZ2luYWwiLCJpdGVtcyIsInF1ZXJ5IiwidG9rZW5zIiwiZGVsZXRlU2VsZWN0aW9uIiwiZSIsImtleUNvZGUiXSwibWFwcGluZ3MiOiJHQUNJQSxDQUFBQSxVQUFVLENBQUcsU0FBVUMsQ0FBVixDQUFjQyxDQUFRLENBQUcsSUFBekIsQ0FBK0JDLENBQVMsR0FBeEMsQ0FBaURDLENBQVEsQ0FBRyxJQUE1RCxDQUFrRSxDQTRLL0UsUUFBU0MsQ0FBQUEsQ0FBVCxDQUFxQkMsQ0FBYyxDQUFHLElBQXRDLENBQTRDQyxDQUFXLENBQUcsRUFBMUQsQ0FBOERDLENBQUssR0FBbkUsQ0FBNkVDLENBQVksR0FBekYsQ0FBa0csQ0FDOUZDLENBQUMsQ0FBQ0MsSUFBRixDQUFPLENBQ0hDLElBQUksQ0FBRSxLQURILENBRUhDLEdBQUcs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ZixDQUF3QkMsQ0FBeEIsQ0FDSCxDQUZpQixDQUVmSCxDQUFFLEVBQUksQ0FGUyxDQUdyQixDQUNKLENBRURPLFNBQVMsQ0FBQ0MsTUFBVixDQUFpQixlQUFqQixDQUFrQyxVQUFtQixDQUNqRCxHQUFJeEcsQ0FBQUEsQ0FBSSxDQUFHLElBQVgsQ0FHQSxLQUFLb0QsRUFBTCxDQUFRLGFBQVIsQ0FBdUIsVUFBWSxDQUMvQixLQUFLcUQsOEJBQUwsR0FDSCxDQUZELENBSmlELENBUWpELEtBQUtDLE1BQUwsQ0FBZSxVQUFZLENBQ3ZCLEdBQUlDLENBQUFBLENBQVEsQ0FBRzNHLENBQUksQ0FBQzBHLE1BQXBCLENBQ0EsTUFBTyxXQUFZLE9BQ3FDLFdBQWhELFFBQVEsTUFBS0QsOEJBREYsQ0FVSkUsQ0FBUSxDQUFDTCxLQUFULENBQWUsSUFBZixDQUFxQkYsU0FBckIsQ0FWSSxFQUdYLE1BQU8sTUFBS0ssOEJBSEQsQ0FJSixDQUNIRyxLQUFLLENBQUUsRUFESixDQUVIQyxLQUFLLENBQUUsRUFGSixDQUdIQyxNQUFNLENBQUUsRUFITCxDQUpJLENBWWxCLENBQ0osQ0FmYSxFQWdCakIsQ0F4QkQsQyxDQTBCQVAsU0FBUyxDQUFDQyxNQUFWLENBQWlCLHVCQUFqQixDQUEwQyxVQUFtQixDQUN6RCxHQUFJeEcsQ0FBQUEsQ0FBSSxDQUFHLElBQVgsQ0FFQSxLQUFLK0csZUFBTCxDQUF3QixVQUFZLENBQ2hDLEdBQUlKLENBQUFBLENBQVEsQ0FBRzNHLENBQUksQ0FBQytHLGVBQXBCLENBRUEsTUFBTyxVQUFVQyxDQUFWLENBQWEsU0FDWEEsQ0FBRCxFQUFvQixDQUFkLEdBQUFBLENBQUMsQ0FBQ0MsT0FESSxHQUVMTixDQUFRLENBQUNMLEtBQVQsQ0FBZSxJQUFmLENBQXFCRixTQUFyQixDQUlkLENBQ0osQ0FWc0IsRUFXMUIsQ0FkRCxDIiwic291cmNlc0NvbnRlbnQiOlsiLy9BamF4IHNlbGVjdCBjb25zdHJ1Y3RvclxubGV0IGFqYXhTZWxlY3QgPSBmdW5jdGlvbiAoZWwsIHBhcmVudEVsID0gbnVsbCwgbXVsdGlMYW5nID0gdHJ1ZSwgbWF4SXRlbXMgPSBudWxsKSB7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMucGFyZW50RWwgPSBwYXJlbnRFbDtcblxuICAgIGlmIChwYXJlbnRFbCkge1xuICAgICAgICB0aGlzLnBhcmVudEVsTmFtZSA9IHBhcmVudEVsLmF0dHIoJ25hbWUnKTtcbiAgICB9XG5cbiAgICB0aGlzLm11bHRpTGFuZyA9IG11bHRpTGFuZztcblxuICAgIHRoaXMubWV0aG9kID0gdGhpcy5lbC5kYXRhKCdtZXRob2QnKTtcbiAgICB0aGlzLmRvbWFpbk5hbWUgPSAnaHR0cHM6Ly9kZXYzLnBhbmFtYS5reic7XG4gICAgLy8gdGhpcy5kb21haW5OYW1lID0gZG9jdW1lbnQubG9jYXRpb24ub3JpZ2luO1xuICAgIHRoaXMubGFuZyA9IHdpbmRvdy5MYXJhdmVsLmxhbmc7XG4gICAgdGhpcy51cmwgPSB0aGlzLmRvbWFpbk5hbWUgKyAnLycgKyB0aGlzLmxhbmcgKyAnLycgKyB0aGlzLm1ldGhvZDtcbiAgICB0aGlzLnBhZ2VDb3VudGVyID0gMTtcbiAgICB0aGlzLmxhc3RQYWdlID0gZmFsc2U7XG4gICAgdGhpcy5sb2FkRW5hYmxlID0gdHJ1ZTtcblxuICAgIC8vaW5pdCBTZWxlY3RpemVcbiAgICB0aGlzLnNlbGVjdCA9IHRoaXMuZWwuc2VsZWN0aXplKHtcbiAgICAgICAgcGx1Z2luczogdGhpcy5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykgPyBbJ3JlbW92ZV9idXR0b24nLCAnc2lsZW50X3JlbW92ZScsICdzdG9wX2JhY2tzcGFjZV9kZWxldGUnXSA6IG51bGwsXG4gICAgICAgIGFsbG93RW1wdHlPcHRpb246IHRydWUsXG4gICAgICAgIG1heE9wdGlvbnM6IDEwMDAwLFxuICAgICAgICBtYXhJdGVtczogbWF4SXRlbXMgPyBtYXhJdGVtcyA6IGVsLmF0dHIoJ211bHRpcGxlJykgPyBudWxsIDogMSxcbiAgICAgICAgb25Jbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgYWRkaXRpb25hbERhdGE7XG4gICAgICAgICAgICBpZiAoc2VsZi5wYXJlbnRFbCAmJiBzZWxmLnBhcmVudEVsLnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgYWRkaXRpb25hbERhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsRGF0YVtzZWxmLnBhcmVudEVsTmFtZV0gPSB0b0FycmF5KHNlbGYucGFyZW50RWwudmFsKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VuZFJlcXVlc3QoYWRkaXRpb25hbERhdGEpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kaW5wdXRbMF0uZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvL2ZldGNoIHRoZSBpbnN0YW5jZVxuICAgIHRoaXMuY29udHJvbHMgPSB0aGlzLnNlbGVjdFswXS5zZWxlY3RpemU7XG4gICAgdGhpcy5kcm9wZG93bkNvbnRlbnQgPSB0aGlzLmNvbnRyb2xzLiRkcm9wZG93bl9jb250ZW50O1xuICAgIHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZyA9IHtcbiAgICAgICAgICAgIGVuOiAnTm8gcmVzdWx0cycsXG4gICAgICAgICAgICBydTogJ9Cd0LjRh9C10LPQviDQvdC1INC90LDQudC00LXQvdC+JyxcbiAgICAgICAgICAgIGtrOiAn0JXRiNGC0LXQvdC1INGC0LDQsdGL0LvQs9Cw0L0g0LbQvtC6J1xuICAgICAgICB9O1xuICAgIHRoaXMubm9SZXN1bHRzTXNnID0gdGhpcy5jb250cm9scy4kaW5wdXRbMF0uZGF0YXNldC5ub3Jlc3VsdHMgPyB0aGlzLmNvbnRyb2xzLiRpbnB1dFswXS5kYXRhc2V0Lm5vcmVzdWx0cyA6IHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZ1t0aGlzLmxhbmddO1xuXG4gICAgLy9PbiB0eXBlIGV2ZW50XG4gICAgdGhpcy5jb250cm9scy5vbigndHlwZScsIGRlbGF5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhO1xuICAgICAgICBpZiAoc2VsZi5wYXJlbnRFbCAmJiBzZWxmLnBhcmVudEVsLnZhbCgpKSB7XG4gICAgICAgICAgICBhZGRpdGlvbmFsRGF0YSA9IHt9O1xuICAgICAgICAgICAgYWRkaXRpb25hbERhdGFbc2VsZi5wYXJlbnRFbE5hbWVdID0gdG9BcnJheShzZWxmLnBhcmVudEVsLnZhbCgpKTtcbiAgICAgICAgfVxuICAgICAgICBzZW5kUmVxdWVzdChhZGRpdGlvbmFsRGF0YSwgdmFsLCB0cnVlKTtcbiAgICB9LCAxMDAwKSk7XG5cbiAgICB0aGlzLmNvbnRyb2xzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sX2lucHV0WzBdLnBsYWNlaG9sZGVyID0gc2VsZi5lbFswXS5hdHRyaWJ1dGVzLnBsYWNlaG9sZGVyLnZhbHVlO1xuICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSB0cnVlO1xuICAgICAgICB9LCAxNTApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb250cm9scy5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5jbGFzc0xpc3QucmVtb3ZlKCduby1yZXN1bHRzJyk7XG4gICAgICAgIHNlbGYucmVtb3ZlTWVzc2FnZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb250cm9scy5vbignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghc2VsZi5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcbiAgICAgICAgICAgIHNlbGYuY29udHJvbHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5kcm9wZG93bkNvbnRlbnQub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhO1xuICAgICAgICBpZiAoc2VsZi5wYXJlbnRFbCAmJiBzZWxmLnBhcmVudEVsLnZhbCgpKSB7XG4gICAgICAgICAgICBhZGRpdGlvbmFsRGF0YSA9IHt9O1xuICAgICAgICAgICAgYWRkaXRpb25hbERhdGFbc2VsZi5wYXJlbnRFbE5hbWVdID0gdG9BcnJheShzZWxmLnBhcmVudEVsLnZhbCgpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHhUb0JvdHRvbSA9IHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbEhlaWdodCAtIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbFRvcCAtIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKHB4VG9Cb3R0b20gPCAxMDAwICYmIHNlbGYubG9hZEVuYWJsZSAmJiAhc2VsZi5sYXN0UGFnZSkge1xuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xzLiRkcm9wZG93blswXS5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgIHNlbGYuZ2V0TmV4dFBhZ2UoYWRkaXRpb25hbERhdGEsIHNjcm9sbFRvcCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMucmVuZGVyTmV3T3B0aW9ucyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgbGV0IG5ld09wdGlvbnMgPSBbXTtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBuZXdPcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW1bXCJuYW1lXCIgKyAoc2VsZi5tdWx0aUxhbmcgPyAnXycgKyBzZWxmLmxhbmcgOiAnJyldXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKG5ld09wdGlvbnMpO1xuICAgIH07XG5cbiAgICB0aGlzLnNhdmVPbGRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZFZhbHVlcyA9IFtdO1xuICAgICAgICBPYmplY3QudmFsdWVzKHNlbGYuY29udHJvbHMub3B0aW9ucykuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChpdGVtLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYuY29udHJvbHMuc2V0VmFsdWUoc2VsZWN0ZWRWYWx1ZXMsIHRydWUpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZE1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbWVzc2FnZS5jbGFzc05hbWUgPSAnbm9yZXN1bHRzLW1lc3NhZ2UnO1xuICAgICAgICBtZXNzYWdlLmlubmVySFRNTCA9IHNlbGYubm9SZXN1bHRzTXNnO1xuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQuYXBwZW5kKG1lc3NhZ2UpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZU1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm5vcmVzdWx0cy1tZXNzYWdlJyk7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBtZXNzYWdlLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZm9jdXNPblNlYXJjaEZpZWxkID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIHNlbGYuY29udHJvbHMuc2V0VGV4dGJveFZhbHVlKHZhbCk7XG4gICAgICAgIHNlbGYuY29udHJvbHMuZm9jdXMoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGREZWZhdWx0T3B0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKHtcbiAgICAgICAgICAgICRvcmRlcjogMCxcbiAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgIHRleHQ6IHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldE5leHRQYWdlID0gZnVuY3Rpb24oYWRkaXRpb25hbERhdGEsIHNjcm9sbFRvcCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICB1cmw6IHNlbGYudXJsLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIC4uLmFkZGl0aW9uYWxEYXRhLFxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBzZWxmLmNvbnRyb2xzLmxhc3RRdWVyeSxcbiAgICAgICAgICAgICAgICBcInBhZ2VcIjogc2VsZi5wYWdlQ291bnRlciArIDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnJlbmRlck5ld09wdGlvbnMocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy5yZWZyZXNoT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIHNlbGYubG9hZEVuYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlQ291bnRlcisrO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGRyb3Bkb3duWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICB9LCAxNTApO1xuXG4gICAgICAgICAgICAgICAgc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmN1cnJlbnRfcGFnZSA9PT0gcmVzcG9uc2UubGFzdF9wYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGFzdFBhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2VuZFJlcXVlc3QoYWRkaXRpb25hbERhdGEgPSBudWxsLCBzZWFyY2hWYWx1ZSA9ICcnLCBmb2N1cyA9IGZhbHNlLCBjbGVhck9wdGlvbnMgPSB0cnVlKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgIHVybDogc2VsZi51cmwsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgLi4uYWRkaXRpb25hbERhdGEsXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IHNlYXJjaFZhbHVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsZWFyT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLmNsZWFyT3B0aW9ucyh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggIT09IDApIHtcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNhdmVPbGRPcHRpb25zKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZERlZmF1bHRPcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyTmV3T3B0aW9ucyhyZXNwb25zZS5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZm9jdXNPblNlYXJjaEZpZWxkKHNlYXJjaFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0uY2xhc3NMaXN0LmFkZCgnbm8tcmVzdWx0cycpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZE1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VDb3VudGVyID0gMTtcbiAgICAgICAgICAgICAgICBzZWxmLmxhc3RQYWdlID0gKHJlc3BvbnNlLmN1cnJlbnRfcGFnZSA9PT0gcmVzcG9uc2UubGFzdF9wYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoYWRkaXRpb25hbERhdGEpIHtcbiAgICAgICAgc2VuZFJlcXVlc3QoYWRkaXRpb25hbERhdGEpO1xuICAgIH07XG5cbiAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmNvbnRyb2xzLmNsZWFyKHRydWUpO1xuICAgIH07XG5cbiAgICB0aGlzLmNsZWFyT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb250cm9scy5jbGVhck9wdGlvbnModHJ1ZSk7XG4gICAgfTtcbn07XG5cbmxldCBhamF4U2VsZWN0MiA9IGZ1bmN0aW9uIChlbCwgbXVsdGlMYW5nID0gdHJ1ZSwgc2tpbGxJZCA9IG51bGwsIG1heEl0ZW1zID0gbnVsbCkge1xuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuZWwgPSBlbDtcbiAgICB0aGlzLm11bHRpTGFuZyA9IG11bHRpTGFuZztcbiAgICB0aGlzLnNraWxsSWQgPSBza2lsbElkO1xuXG4gICAgdGhpcy5tZXRob2QgPSB0aGlzLmVsLmRhdGEoJ21ldGhvZCcpO1xuICAgIHRoaXMuZG9tYWluTmFtZSA9ICdodHRwczovL2RldjMucGFuYW1hLmt6JztcbiAgICAvLyB0aGlzLmRvbWFpbk5hbWUgPSBkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW47XG4gICAgdGhpcy5sYW5nID0gd2luZG93LkxhcmF2ZWwubGFuZztcbiAgICB0aGlzLnVybCA9IHRoaXMuZG9tYWluTmFtZSArICcvJyArIHRoaXMubGFuZyArICcvJyArIHRoaXMubWV0aG9kO1xuICAgIHRoaXMucGFnZUNvdW50ZXIgPSAxO1xuICAgIHRoaXMubGFzdFBhZ2UgPSBmYWxzZTtcbiAgICB0aGlzLmxvYWRFbmFibGUgPSB0cnVlO1xuXG4gICAgLy9pbml0IFNlbGVjdGl6ZVxuICAgIHRoaXMuc2VsZWN0ID0gdGhpcy5lbC5zZWxlY3RpemUoe1xuICAgICAgICBwbHVnaW5zOiB0aGlzLmVsWzBdLmhhc0F0dHJpYnV0ZSgnbXVsdGlwbGUnKSA/IFsncmVtb3ZlX2J1dHRvbicsICdzaWxlbnRfcmVtb3ZlJywgJ3N0b3BfYmFja3NwYWNlX2RlbGV0ZSddIDogbnVsbCxcbiAgICAgICAgYWxsb3dFbXB0eU9wdGlvbjogdHJ1ZSxcbiAgICAgICAgbWF4T3B0aW9uczogMTAwMDAsXG4gICAgICAgIG1heEl0ZW1zOiBtYXhJdGVtcyxcbiAgICAgICAgb25Jbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZW5kUmVxdWVzdChzZWxmLnNraWxsSWQpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy4kaW5wdXRbMF0uZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvL2ZldGNoIHRoZSBpbnN0YW5jZVxuICAgIHRoaXMuY29udHJvbHMgPSB0aGlzLnNlbGVjdFswXS5zZWxlY3RpemU7XG4gICAgdGhpcy5kcm9wZG93bkNvbnRlbnQgPSB0aGlzLmNvbnRyb2xzLiRkcm9wZG93bl9jb250ZW50O1xuICAgIHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZyA9IHtcbiAgICAgICAgZW46ICdObyByZXN1bHRzJyxcbiAgICAgICAgcnU6ICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3QvicsXG4gICAgICAgIGtrOiAn0JXRiNGC0LXQvdC1INGC0LDQsdGL0LvQs9Cw0L0g0LbQvtC6J1xuICAgIH07XG4gICAgdGhpcy5ub1Jlc3VsdHNNc2cgPSB0aGlzLmNvbnRyb2xzLiRpbnB1dFswXS5kYXRhc2V0Lm5vcmVzdWx0cyA/IHRoaXMuY29udHJvbHMuJGlucHV0WzBdLmRhdGFzZXQubm9yZXN1bHRzIDogdGhpcy5ub1Jlc3VsdHNEZWZhdWx0TXNnW3RoaXMubGFuZ107XG5cbiAgICAvL09uIHR5cGUgZXZlbnRcbiAgICB0aGlzLmNvbnRyb2xzLm9uKCd0eXBlJywgZGVsYXkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICBzZW5kUmVxdWVzdChzZWxmLnNraWxsSWQsIHZhbCwgdHJ1ZSk7XG4gICAgfSwgMTAwMCkpO1xuXG4gICAgdGhpcy5jb250cm9scy5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sX2lucHV0WzBdLnBsYWNlaG9sZGVyID0gc2VsZi5lbFswXS5hdHRyaWJ1dGVzLnBsYWNlaG9sZGVyLnZhbHVlO1xuICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSBmYWxzZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSB0cnVlO1xuICAgICAgICB9LCAxNTApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb250cm9scy5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5jbGFzc0xpc3QucmVtb3ZlKCduby1yZXN1bHRzJyk7XG4gICAgICAgIHNlbGYucmVtb3ZlTWVzc2FnZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5jb250cm9scy5vbignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghc2VsZi5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcbiAgICAgICAgICAgIHNlbGYuY29udHJvbHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5kcm9wZG93bkNvbnRlbnQub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhID0gc2VsZi5wYXJlbnRFbCA/IChzZWxmLnBhcmVudEVsLnZhbCgpID8geydwcm9mZXNzaW9ucyc6IHRvQXJyYXkoc2VsZi5wYXJlbnRFbC52YWwoKSl9IDogbnVsbCkgOiBudWxsO1xuICAgICAgICBsZXQgcHhUb0JvdHRvbSA9IHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbEhlaWdodCAtIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbFRvcCAtIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKHB4VG9Cb3R0b20gPCAxMDAwICYmIHNlbGYubG9hZEVuYWJsZSAmJiAhc2VsZi5sYXN0UGFnZSkge1xuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xzLiRkcm9wZG93blswXS5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgIHNlbGYuZ2V0TmV4dFBhZ2Uoc2VsZi5za2lsbElkLCBzY3JvbGxUb3ApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnJlbmRlck5ld09wdGlvbnMgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGxldCBuZXdPcHRpb25zID0gW107XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgbmV3T3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtW1wibmFtZVwiICsgKHNlbGYubXVsdGlMYW5nID8gJ18nICsgc2VsZi5sYW5nIDogJycpXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLmNvbnRyb2xzLmFkZE9wdGlvbihuZXdPcHRpb25zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zYXZlT2xkT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhzZWxmLmNvbnRyb2xzLm9wdGlvbnMpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVzLnB1c2goaXRlbS52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLmNvbnRyb2xzLnNldFZhbHVlKHNlbGVjdGVkVmFsdWVzKTtcbiAgICB9O1xuXG4gICAgdGhpcy5hZGRNZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG1lc3NhZ2UuY2xhc3NOYW1lID0gJ25vcmVzdWx0cy1tZXNzYWdlJztcbiAgICAgICAgbWVzc2FnZS5pbm5lckhUTUwgPSBzZWxmLm5vUmVzdWx0c01zZztcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5wYXJlbnRFbGVtZW50LmFwcGVuZChtZXNzYWdlKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcbiAgICAgICAgfSwgMzAwMCk7XG4gICAgfTtcblxuICAgIHRoaXMucmVtb3ZlTWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubm9yZXN1bHRzLW1lc3NhZ2UnKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5mb2N1c09uU2VhcmNoRmllbGQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgc2VsZi5jb250cm9scy5zZXRUZXh0Ym94VmFsdWUodmFsKTtcbiAgICAgICAgc2VsZi5jb250cm9scy5mb2N1cygpO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZERlZmF1bHRPcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5jb250cm9scy5hZGRPcHRpb24oe1xuICAgICAgICAgICAgJG9yZGVyOiAwLFxuICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgdGV4dDogc2VsZi5lbC5kYXRhKCdkZWZhdWx0JylcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMuZ2V0TmV4dFBhZ2UgPSBmdW5jdGlvbihza2lsbElkLCBzY3JvbGxUb3ApIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgdXJsOiBzZWxmLnVybCArICcvJyArIHNraWxsSWQsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IHNlbGYuY29udHJvbHMubGFzdFF1ZXJ5LFxuICAgICAgICAgICAgICAgIFwicGFnZVwiOiBzZWxmLnBhZ2VDb3VudGVyICsgMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyTmV3T3B0aW9ucyhyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLnJlZnJlc2hPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VDb3VudGVyKys7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy4kZHJvcGRvd25bMF0uY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xuICAgICAgICAgICAgICAgIH0sIDE1MCk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY3VycmVudF9wYWdlID09PSByZXNwb25zZS5sYXN0X3BhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UGFnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdChza2lsbElkLCBzZWFyY2hWYWx1ZSA9ICcnLCBmb2N1cyA9IGZhbHNlLCBjbGVhck9wdGlvbnMgPSB0cnVlKSB7XG4gICAgICAgIGlmIChza2lsbElkICE9PSAtMSkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IHNlbGYudXJsICsgJy8nICsgc2tpbGxJZCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBzZWFyY2hWYWx1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGVhck9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMuY2xlYXJPcHRpb25zKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoICE9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2F2ZU9sZE9wdGlvbnMoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGREZWZhdWx0T3B0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyTmV3T3B0aW9ucyhyZXNwb25zZS5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5mb2N1c09uU2VhcmNoRmllbGQoc2VhcmNoVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0uY2xhc3NMaXN0LmFkZCgnbm8tcmVzdWx0cycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VDb3VudGVyID0gMTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UGFnZSA9IChyZXNwb25zZS5jdXJyZW50X3BhZ2UgPT09IHJlc3BvbnNlLmxhc3RfcGFnZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICBzZW5kUmVxdWVzdChwYXJhbSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29udHJvbHMuY2xlYXIodHJ1ZSk7XG4gICAgfTtcblxuICAgIHRoaXMuY2xlYXJPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbnRyb2xzLmNsZWFyT3B0aW9ucyh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyB0aGlzLnJlbW92ZU1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgIHJlbW92ZU1lc3NhZ2UoKTtcbiAgICAvLyB9XG59O1xuXG4vL0RlbGF5IGZ1bmN0aW9uXG5mdW5jdGlvbiBkZWxheShjYWxsYmFjaywgbXMpIHtcbiAgICBsZXQgdGltZXIgPSAwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICB9LCBtcyB8fCAwKTtcbiAgICB9O1xufVxuXG5TZWxlY3RpemUuZGVmaW5lKCdzaWxlbnRfcmVtb3ZlJywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBkZWZhbmcgdGhlIGludGVybmFsIHNlYXJjaCBtZXRob2Qgd2hlbiByZW1vdmUgaGFzIGJlZW4gY2xpY2tlZFxuICAgIHRoaXMub24oJ2l0ZW1fcmVtb3ZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBsdWdpbl9zaWxlbnRfcmVtb3ZlX2luX3JlbW92ZSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNlYXJjaCA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBvcmlnaW5hbCA9IHNlbGYuc2VhcmNoO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpcy5wbHVnaW5fc2lsZW50X3JlbW92ZV9pbl9yZW1vdmUpICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAvLyByZS1lbmFibGUgbm9ybWFsIHNlYXJjaGluZ1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBsdWdpbl9zaWxlbnRfcmVtb3ZlX2luX3JlbW92ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpdGVtczoge30sXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKCk7XG59KTtcblxuU2VsZWN0aXplLmRlZmluZShcInN0b3BfYmFja3NwYWNlX2RlbGV0ZVwiLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGxldCBzZWxmID0gdGhpcztcblxuICAgIHRoaXMuZGVsZXRlU2VsZWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IG9yaWdpbmFsID0gc2VsZi5kZWxldGVTZWxlY3Rpb247XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoIWUgfHwgZS5rZXlDb2RlICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xufSk7XG4iXSwiZmlsZSI6ImFqYXgtc2VsZWN0LmpzIn0=
