let ajaxSelect=function(a,b=null,c=!0){function d(a=null,b="",c=!1,d=!0){$.ajax({type:"GET",url:e.url,data:{...a,name:b},success:function(a){d&&e.controls.clearOptions(),0===a.data.length?(e.controls.$control[0].classList.add("no-results"),e.addMessage()):(e.saveOldOptions(),e.el.data("default")&&e.addDefaultOption(),e.renderNewOptions(a.data),c&&e.focusOnSearchField(b),e.removeMessage()),e.pageCounter=1,e.lastPage=a.current_page===a.last_page},error:function(a){console.log(a)}})}let e=this;this.el=a,this.parentEl=b,this.multiLang=c,this.method=this.el.data("method"),this.domainName=document.location.origin,this.lang=window.Laravel.lang,this.url=this.domainName+"/"+this.lang+"/"+this.method,this.pageCounter=1,this.lastPage=!1,this.loadEnable=!0,this.select=this.el.selectize({plugins:this.el[0].hasAttribute("multiple")?["remove_button","silent_remove","stop_backspace_delete"]:null,allowEmptyOption:!0,maxOptions:1e4,onInitialize:function(){let a=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null;d(a)},onChange:function(){this.$input[0].dispatchEvent(changeEvent)}}),this.controls=this.select[0].selectize,this.dropdownContent=this.controls.$dropdown_content,this.noResultsDefaultMsg={en:"No results",ru:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",kk:"\u0415\u0448\u0442\u0435\u043D\u0435 \u0442\u0430\u0431\u044B\u043B\u0433\u0430\u043D \u0436\u043E\u043A"},this.noResultsMsg=this.controls.$input[0].dataset.noresults?this.controls.$input[0].dataset.noresults:this.noResultsDefaultMsg[this.lang],this.controls.on("type",delay(function(a){let b=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null;d(b,a,!0)},1e3)),this.controls.on("change",function(){e.controls.$control_input[0].placeholder=e.el[0].attributes.placeholder.value,e.loadEnable=!1,setTimeout(function(){e.loadEnable=!0},150)}),this.controls.on("blur",function(){e.controls.$control[0].classList.remove("no-results"),e.removeMessage()}),this.controls.on("focus",function(){e.el[0].hasAttribute("multiple")||e.controls.clear()}),this.dropdownContent.on("scroll",function(){let a=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null,b=e.dropdownContent[0].scrollHeight-e.dropdownContent[0].scrollTop-e.dropdownContent[0].clientHeight;if(1e3>b&&e.loadEnable&&!e.lastPage){e.loadEnable=!1,e.controls.$dropdown[0].classList.add("loading");let b=e.dropdownContent[0].scrollTop;e.getNextPage(a,b)}}),this.renderNewOptions=function(a){let b=[];a.forEach(function(a){b.push({value:a.id,text:a["name"+(e.multiLang?"_"+e.lang:"")]})}),e.controls.addOption(b)},this.saveOldOptions=function(){let a=[];Object.values(e.controls.options).forEach(b=>{a.push(b.value)}),e.controls.setValue(a)},this.addMessage=function(){let a=document.createElement("div");a.className="noresults-message",a.innerHTML=e.noResultsMsg,e.controls.$control[0].parentElement.append(a)},this.removeMessage=function(){let a=e.controls.$control[0].parentElement.querySelector(".noresults-message");a&&a.remove()},this.focusOnSearchField=function(a){e.controls.setTextboxValue(a),e.controls.focus()},this.addDefaultOption=function(){e.controls.addOption({$order:0,value:"",text:e.el.data("default")})},this.getNextPage=function(a,b){$.ajax({type:"GET",url:e.url,data:{...a,name:e.controls.lastQuery,page:e.pageCounter+1},success:function(a){e.renderNewOptions(a.data),e.controls.refreshOptions(),e.loadEnable=!0,e.pageCounter++,setTimeout(function(){e.controls.$dropdown[0].classList.remove("loading")},150),e.dropdownContent[0].scrollTop=b,a.current_page===a.last_page&&(e.lastPage=!0)},error:function(a){console.log(a)}})},this.update=function(a){d(a)},this.clear=function(){e.controls.clear()}},ajaxSelect2=function(a,b=!0,c=null,d=null){function e(a,b="",c=!1,d=!0){-1!==a&&$.ajax({type:"GET",url:f.url+"/"+a,data:{name:b},success:function(a){d&&f.controls.clearOptions(),0===a.data.length?(f.controls.$control[0].classList.add("no-results"),f.addMessage()):(f.saveOldOptions(),f.el.data("default")&&f.addDefaultOption(),f.renderNewOptions(a.data),c&&f.focusOnSearchField(b),f.removeMessage()),f.pageCounter=1,f.lastPage=a.current_page===a.last_page},error:function(a){console.log(a)}})}let f=this;this.el=a,this.multiLang=b,this.skillId=c,this.method=this.el.data("method"),this.domainName=document.location.origin,this.lang=window.Laravel.lang,this.url=this.domainName+"/"+this.lang+"/"+this.method,this.pageCounter=1,this.lastPage=!1,this.loadEnable=!0,this.select=this.el.selectize({plugins:this.el[0].hasAttribute("multiple")?["remove_button","silent_remove","stop_backspace_delete"]:null,allowEmptyOption:!0,maxOptions:1e4,maxItems:d,onInitialize:function(){e(f.skillId)}}),this.controls=this.select[0].selectize,this.dropdownContent=this.controls.$dropdown_content,this.noResultsDefaultMsg={en:"No results",ru:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",kk:"\u0415\u0448\u0442\u0435\u043D\u0435 \u0442\u0430\u0431\u044B\u043B\u0433\u0430\u043D \u0436\u043E\u043A"},this.noResultsMsg=this.controls.$input[0].dataset.noresults?this.controls.$input[0].dataset.noresults:this.noResultsDefaultMsg[this.lang],this.controls.on("type",delay(function(a){e(f.skillId,a,!0)},1e3)),this.controls.on("change",function(){f.controls.$control_input[0].placeholder=f.el[0].attributes.placeholder.value,f.loadEnable=!1,setTimeout(function(){f.loadEnable=!0},150)}),this.controls.on("blur",function(){f.controls.$control[0].classList.remove("no-results"),f.removeMessage()}),this.controls.on("focus",function(){f.el[0].hasAttribute("multiple")||f.controls.clear()}),this.dropdownContent.on("scroll",function(){let a=f.parentEl?f.parentEl.val()?{professions:toArray(f.parentEl.val())}:null:null,b=f.dropdownContent[0].scrollHeight-f.dropdownContent[0].scrollTop-f.dropdownContent[0].clientHeight;if(1e3>b&&f.loadEnable&&!f.lastPage){f.loadEnable=!1,f.controls.$dropdown[0].classList.add("loading");let a=f.dropdownContent[0].scrollTop;f.getNextPage(f.skillId,a)}}),this.renderNewOptions=function(a){let b=[];a.forEach(function(a){b.push({value:a.id,text:a["name"+(f.multiLang?"_"+f.lang:"")]})}),f.controls.addOption(b)},this.saveOldOptions=function(){let a=[];Object.values(f.controls.options).forEach(b=>{a.push(b.value)}),f.controls.setValue(a)},this.addMessage=function(){let a=document.createElement("div");a.className="noresults-message",a.innerHTML=f.noResultsMsg,f.controls.$control[0].parentElement.append(a),setTimeout(function(){f.removeMessage()},3e3)},this.removeMessage=function(){let a=f.controls.$control[0].parentElement.querySelector(".noresults-message");a&&a.remove()},this.focusOnSearchField=function(a){f.controls.setTextboxValue(a),f.controls.focus()},this.addDefaultOption=function(){f.controls.addOption({$order:0,value:"",text:f.el.data("default")})},this.getNextPage=function(a,b){$.ajax({type:"GET",url:f.url+"/"+a,data:{name:f.controls.lastQuery,page:f.pageCounter+1},success:function(a){f.renderNewOptions(a.data),f.controls.refreshOptions(),f.loadEnable=!0,f.pageCounter++,setTimeout(function(){f.controls.$dropdown[0].classList.remove("loading")},150),f.dropdownContent[0].scrollTop=b,a.current_page===a.last_page&&(f.lastPage=!0)},error:function(a){console.log(a)}})},this.update=function(a){e(a)},this.clear=function(){this.controls.clear()},this.clearOptions=function(){this.controls.clearOptions()}};function delay(a,b){let c=0;return function(){let d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b||0)}}Selectize.define("silent_remove",function(){let a=this;this.on("item_remove",function(){this.plugin_silent_remove_in_remove=!0}),this.search=function(){let b=a.search;return function(){return"undefined"==typeof this.plugin_silent_remove_in_remove?b.apply(this,arguments):(delete this.plugin_silent_remove_in_remove,{items:{},query:[],tokens:[]})}}()}),Selectize.define("stop_backspace_delete",function(){let a=this;this.deleteSelection=function(){let b=a.deleteSelection;return function(a){return!(a&&8===a.keyCode)&&b.apply(this,arguments)}}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFqYXgtc2VsZWN0LmpzIl0sIm5hbWVzIjpbImFqYXhTZWxlY3QiLCJlbCIsInBhcmVudEVsIiwibXVsdGlMYW5nIiwic2VuZFJlcXVlc3QiLCJhZGRpdGlvbmFsRGF0YSIsInNlYXJjaFZhbHVlIiwiZm9jdXMiLCJjbGVhck9wdGlvbnMiLCIkIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJzZWxmIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsImNvbnRyb2xzIiwibGVuZ3RoIiwiJGNvbnRyb2wiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRNZXNzYWdlIiwic2F2ZU9sZE9wdGlvbnMiLCJhZGREZWZhdWx0T3B0aW9uIiwicmVuZGVyTmV3T3B0aW9ucyIsImZvY3VzT25TZWFyY2hGaWVsZCIsInJlbW92ZU1lc3NhZ2UiLCJwYWdlQ291bnRlciIsImxhc3RQYWdlIiwiY3VycmVudF9wYWdlIiwibGFzdF9wYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibWV0aG9kIiwiZG9tYWluTmFtZSIsImRvY3VtZW50IiwibG9jYXRpb24iLCJvcmlnaW4iLCJsYW5nIiwid2luZG93IiwiTGFyYXZlbCIsImxvYWRFbmFibGUiLCJzZWxlY3QiLCJzZWxlY3RpemUiLCJwbHVnaW5zIiwiaGFzQXR0cmlidXRlIiwiYWxsb3dFbXB0eU9wdGlvbiIsIm1heE9wdGlvbnMiLCJvbkluaXRpYWxpemUiLCJ2YWwiLCJ0b0FycmF5Iiwib25DaGFuZ2UiLCIkaW5wdXQiLCJkaXNwYXRjaEV2ZW50IiwiY2hhbmdlRXZlbnQiLCJkcm9wZG93bkNvbnRlbnQiLCIkZHJvcGRvd25fY29udGVudCIsIm5vUmVzdWx0c0RlZmF1bHRNc2ciLCJlbiIsInJ1Iiwia2siLCJub1Jlc3VsdHNNc2ciLCJkYXRhc2V0Iiwibm9yZXN1bHRzIiwib24iLCJkZWxheSIsIiRjb250cm9sX2lucHV0IiwicGxhY2Vob2xkZXIiLCJhdHRyaWJ1dGVzIiwidmFsdWUiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiY2xlYXIiLCJweFRvQm90dG9tIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsVG9wIiwiY2xpZW50SGVpZ2h0IiwiJGRyb3Bkb3duIiwiZ2V0TmV4dFBhZ2UiLCJuZXdPcHRpb25zIiwiZm9yRWFjaCIsIml0ZW0iLCJwdXNoIiwiaWQiLCJ0ZXh0IiwiYWRkT3B0aW9uIiwic2VsZWN0ZWRWYWx1ZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJvcHRpb25zIiwic2V0VmFsdWUiLCJtZXNzYWdlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsInBhcmVudEVsZW1lbnQiLCJhcHBlbmQiLCJxdWVyeVNlbGVjdG9yIiwic2V0VGV4dGJveFZhbHVlIiwiJG9yZGVyIiwibGFzdFF1ZXJ5IiwicmVmcmVzaE9wdGlvbnMiLCJ1cGRhdGUiLCJhamF4U2VsZWN0MiIsInNraWxsSWQiLCJtYXhJdGVtcyIsInBhcmFtIiwiY2FsbGJhY2siLCJtcyIsInRpbWVyIiwiY29udGV4dCIsImFyZ3MiLCJhcmd1bWVudHMiLCJjbGVhclRpbWVvdXQiLCJhcHBseSIsIlNlbGVjdGl6ZSIsImRlZmluZSIsInBsdWdpbl9zaWxlbnRfcmVtb3ZlX2luX3JlbW92ZSIsInNlYXJjaCIsIm9yaWdpbmFsIiwiaXRlbXMiLCJxdWVyeSIsInRva2VucyIsImRlbGV0ZVNlbGVjdGlvbiIsImUiLCJrZXlDb2RlIl0sIm1hcHBpbmdzIjoiR0FDSUEsQ0FBQUEsVUFBVSxDQUFHLFNBQVVDLENBQVYsQ0FBY0MsQ0FBUSxDQUFHLElBQXpCLENBQStCQyxDQUFTLEdBQXhDLENBQWlELENBMEo5RCxRQUFTQyxDQUFBQSxDQUFULENBQXFCQyxDQUFjLENBQUcsSUFBdEMsQ0FBNENDLENBQVcsQ0FBRyxFQUExRCxDQUE4REMsQ0FBSyxHQUFuRSxDQUE2RUMsQ0FBWSxHQUF6RixDQUFrRyxDQUM5RkMsQ0FBQyxDQUFDQyxJQUFGLENBQU8sQ0FDSEMsSUFBSSxDQUFFLEtBREgsQ0FFSEMsR0FBRyxDQUFFQyxDQUFJLENBQUNELEdBRlAsQ0FH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SEcsS0FBSyxDQUFFLEVBREosQ0FFSEMsS0FBSyxDQUFFLEVBRkosQ0FHSEMsTUFBTSxDQUFFLEVBSEwsQ0FKSSxDQVlsQixDQUNKLENBZmEsRUFnQmpCLENBeEJELEMsQ0EwQkFQLFNBQVMsQ0FBQ0MsTUFBVixDQUFpQix1QkFBakIsQ0FBMEMsVUFBbUIsQ0FDekQsR0FBSXpHLENBQUFBLENBQUksQ0FBRyxJQUFYLENBRUEsS0FBS2dILGVBQUwsQ0FBd0IsVUFBWSxDQUNoQyxHQUFJSixDQUFBQSxDQUFRLENBQUc1RyxDQUFJLENBQUNnSCxlQUFwQixDQUVBLE1BQU8sVUFBVUMsQ0FBVixDQUFhLFNBQ1hBLENBQUQsRUFBb0IsQ0FBZCxHQUFBQSxDQUFDLENBQUNDLE9BREksR0FFTE4sQ0FBUSxDQUFDTCxLQUFULENBQWUsSUFBZixDQUFxQkYsU0FBckIsQ0FJZCxDQUNKLENBVnNCLEVBVzFCLENBZEQsQyIsInNvdXJjZXNDb250ZW50IjpbIi8vQWpheCBzZWxlY3QgY29uc3RydWN0b3JcclxubGV0IGFqYXhTZWxlY3QgPSBmdW5jdGlvbiAoZWwsIHBhcmVudEVsID0gbnVsbCwgbXVsdGlMYW5nID0gdHJ1ZSkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuZWwgPSBlbDtcclxuICAgIHRoaXMucGFyZW50RWwgPSBwYXJlbnRFbDtcclxuICAgIHRoaXMubXVsdGlMYW5nID0gbXVsdGlMYW5nO1xyXG5cclxuICAgIHRoaXMubWV0aG9kID0gdGhpcy5lbC5kYXRhKCdtZXRob2QnKTtcclxuICAgIC8vIHRoaXMuZG9tYWluTmFtZSA9ICdodHRwczovL2RldjMucGFuYW1hLmt6JztcclxuICAgIHRoaXMuZG9tYWluTmFtZSA9IGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbjtcclxuICAgIHRoaXMubGFuZyA9IHdpbmRvdy5MYXJhdmVsLmxhbmc7XHJcbiAgICB0aGlzLnVybCA9IHRoaXMuZG9tYWluTmFtZSArICcvJyArIHRoaXMubGFuZyArICcvJyArIHRoaXMubWV0aG9kO1xyXG4gICAgdGhpcy5wYWdlQ291bnRlciA9IDE7XHJcbiAgICB0aGlzLmxhc3RQYWdlID0gZmFsc2U7XHJcbiAgICB0aGlzLmxvYWRFbmFibGUgPSB0cnVlO1xyXG5cclxuICAgIC8vaW5pdCBTZWxlY3RpemVcclxuICAgIHRoaXMuc2VsZWN0ID0gdGhpcy5lbC5zZWxlY3RpemUoe1xyXG4gICAgICAgIHBsdWdpbnM6IHRoaXMuZWxbMF0uaGFzQXR0cmlidXRlKCdtdWx0aXBsZScpID8gWydyZW1vdmVfYnV0dG9uJywgJ3NpbGVudF9yZW1vdmUnLCAnc3RvcF9iYWNrc3BhY2VfZGVsZXRlJ10gOiBudWxsLFxyXG4gICAgICAgIGFsbG93RW1wdHlPcHRpb246IHRydWUsXHJcbiAgICAgICAgbWF4T3B0aW9uczogMTAwMDAsXHJcbiAgICAgICAgb25Jbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsRGF0YSA9IHNlbGYucGFyZW50RWwgPyAoc2VsZi5wYXJlbnRFbC52YWwoKSA/IHsncHJvZmVzc2lvbnMnOiB0b0FycmF5KHNlbGYucGFyZW50RWwudmFsKCkpfSA6IG51bGwpIDogbnVsbDtcclxuICAgICAgICAgICAgc2VuZFJlcXVlc3QoYWRkaXRpb25hbERhdGEpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kaW5wdXRbMF0uZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvL2ZldGNoIHRoZSBpbnN0YW5jZVxyXG4gICAgdGhpcy5jb250cm9scyA9IHRoaXMuc2VsZWN0WzBdLnNlbGVjdGl6ZTtcclxuICAgIHRoaXMuZHJvcGRvd25Db250ZW50ID0gdGhpcy5jb250cm9scy4kZHJvcGRvd25fY29udGVudDtcclxuICAgIHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZyA9IHtcclxuICAgICAgICAgICAgZW46ICdObyByZXN1bHRzJyxcclxuICAgICAgICAgICAgcnU6ICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3QvicsXHJcbiAgICAgICAgICAgIGtrOiAn0JXRiNGC0LXQvdC1INGC0LDQsdGL0LvQs9Cw0L0g0LbQvtC6J1xyXG4gICAgICAgIH07XHJcbiAgICB0aGlzLm5vUmVzdWx0c01zZyA9IHRoaXMuY29udHJvbHMuJGlucHV0WzBdLmRhdGFzZXQubm9yZXN1bHRzID8gdGhpcy5jb250cm9scy4kaW5wdXRbMF0uZGF0YXNldC5ub3Jlc3VsdHMgOiB0aGlzLm5vUmVzdWx0c0RlZmF1bHRNc2dbdGhpcy5sYW5nXTtcclxuXHJcbiAgICAvL09uIHR5cGUgZXZlbnRcclxuICAgIHRoaXMuY29udHJvbHMub24oJ3R5cGUnLCBkZWxheShmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhID0gc2VsZi5wYXJlbnRFbCA/IChzZWxmLnBhcmVudEVsLnZhbCgpID8geydwcm9mZXNzaW9ucyc6IHRvQXJyYXkoc2VsZi5wYXJlbnRFbC52YWwoKSl9IDogbnVsbCkgOiBudWxsO1xyXG4gICAgICAgIHNlbmRSZXF1ZXN0KGFkZGl0aW9uYWxEYXRhLCB2YWwsIHRydWUpO1xyXG4gICAgfSwgMTAwMCkpO1xyXG5cclxuICAgIHRoaXMuY29udHJvbHMub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbF9pbnB1dFswXS5wbGFjZWhvbGRlciA9IHNlbGYuZWxbMF0uYXR0cmlidXRlcy5wbGFjZWhvbGRlci52YWx1ZTtcclxuICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSBmYWxzZTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9LCAxNTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jb250cm9scy5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXJlc3VsdHMnKTtcclxuICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY29udHJvbHMub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghc2VsZi5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcclxuICAgICAgICAgICAgc2VsZi5jb250cm9scy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZHJvcGRvd25Db250ZW50Lm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhID0gc2VsZi5wYXJlbnRFbCA/IChzZWxmLnBhcmVudEVsLnZhbCgpID8geydwcm9mZXNzaW9ucyc6IHRvQXJyYXkoc2VsZi5wYXJlbnRFbC52YWwoKSl9IDogbnVsbCkgOiBudWxsO1xyXG4gICAgICAgIGxldCBweFRvQm90dG9tID0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsSGVpZ2h0IC0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsVG9wIC0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIGlmIChweFRvQm90dG9tIDwgMTAwMCAmJiBzZWxmLmxvYWRFbmFibGUgJiYgIXNlbGYubGFzdFBhZ2UpIHtcclxuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGRyb3Bkb3duWzBdLmNsYXNzTGlzdC5hZGQoJ2xvYWRpbmcnKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3A7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmdldE5leHRQYWdlKGFkZGl0aW9uYWxEYXRhLCBzY3JvbGxUb3ApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmVuZGVyTmV3T3B0aW9ucyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBsZXQgbmV3T3B0aW9ucyA9IFtdO1xyXG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBuZXdPcHRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtW1wibmFtZVwiICsgKHNlbGYubXVsdGlMYW5nID8gJ18nICsgc2VsZi5sYW5nIDogJycpXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLmFkZE9wdGlvbihuZXdPcHRpb25zKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zYXZlT2xkT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZFZhbHVlcyA9IFtdO1xyXG4gICAgICAgIE9iamVjdC52YWx1ZXMoc2VsZi5jb250cm9scy5vcHRpb25zKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVzLnB1c2goaXRlbS52YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy5zZXRWYWx1ZShzZWxlY3RlZFZhbHVlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWRkTWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbWVzc2FnZS5jbGFzc05hbWUgPSAnbm9yZXN1bHRzLW1lc3NhZ2UnO1xyXG4gICAgICAgIG1lc3NhZ2UuaW5uZXJIVE1MID0gc2VsZi5ub1Jlc3VsdHNNc2c7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5wYXJlbnRFbGVtZW50LmFwcGVuZChtZXNzYWdlKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZW1vdmVNZXNzYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm5vcmVzdWx0cy1tZXNzYWdlJyk7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9jdXNPblNlYXJjaEZpZWxkID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy5zZXRUZXh0Ym94VmFsdWUodmFsKTtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLmZvY3VzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWRkRGVmYXVsdE9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKHtcclxuICAgICAgICAgICAgJG9yZGVyOiAwLFxyXG4gICAgICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgICAgIHRleHQ6IHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0TmV4dFBhZ2UgPSBmdW5jdGlvbihhZGRpdGlvbmFsRGF0YSwgc2Nyb2xsVG9wKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgIHVybDogc2VsZi51cmwsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIC4uLmFkZGl0aW9uYWxEYXRhLFxyXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IHNlbGYuY29udHJvbHMubGFzdFF1ZXJ5LFxyXG4gICAgICAgICAgICAgICAgXCJwYWdlXCI6IHNlbGYucGFnZUNvdW50ZXIgKyAxXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXJOZXdPcHRpb25zKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy5yZWZyZXNoT3B0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYucGFnZUNvdW50ZXIrKztcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLiRkcm9wZG93blswXS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9LCAxNTApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY3VycmVudF9wYWdlID09PSByZXNwb25zZS5sYXN0X3BhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxhc3RQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KGFkZGl0aW9uYWxEYXRhID0gbnVsbCwgc2VhcmNoVmFsdWUgPSAnJywgZm9jdXMgPSBmYWxzZSwgY2xlYXJPcHRpb25zID0gdHJ1ZSkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICB1cmw6IHNlbGYudXJsLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAuLi5hZGRpdGlvbmFsRGF0YSxcclxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBzZWFyY2hWYWx1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjbGVhck9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLmNsZWFyT3B0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCAhPT0gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNhdmVPbGRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmVsLmRhdGEoJ2RlZmF1bHQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZERlZmF1bHRPcHRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyTmV3T3B0aW9ucyhyZXNwb25zZS5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZm9jdXNPblNlYXJjaEZpZWxkKHNlYXJjaFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlTWVzc2FnZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLmNsYXNzTGlzdC5hZGQoJ25vLXJlc3VsdHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZE1lc3NhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VDb3VudGVyID0gMTtcclxuICAgICAgICAgICAgICAgIHNlbGYubGFzdFBhZ2UgPSAocmVzcG9uc2UuY3VycmVudF9wYWdlID09PSByZXNwb25zZS5sYXN0X3BhZ2UpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoYWRkaXRpb25hbERhdGEpIHtcclxuICAgICAgICBzZW5kUmVxdWVzdChhZGRpdGlvbmFsRGF0YSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy5jbGVhcigpO1xyXG4gICAgfTtcclxufTtcclxuXHJcbmxldCBhamF4U2VsZWN0MiA9IGZ1bmN0aW9uIChlbCwgbXVsdGlMYW5nID0gdHJ1ZSwgc2tpbGxJZCA9IG51bGwsIG1heEl0ZW1zID0gbnVsbCkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuZWwgPSBlbDtcclxuICAgIHRoaXMubXVsdGlMYW5nID0gbXVsdGlMYW5nO1xyXG4gICAgdGhpcy5za2lsbElkID0gc2tpbGxJZDtcclxuXHJcbiAgICB0aGlzLm1ldGhvZCA9IHRoaXMuZWwuZGF0YSgnbWV0aG9kJyk7XHJcbiAgICAvLyB0aGlzLmRvbWFpbk5hbWUgPSAnaHR0cHM6Ly9kZXYzLnBhbmFtYS5reic7XHJcbiAgICB0aGlzLmRvbWFpbk5hbWUgPSBkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW47XHJcbiAgICB0aGlzLmxhbmcgPSB3aW5kb3cuTGFyYXZlbC5sYW5nO1xyXG4gICAgdGhpcy51cmwgPSB0aGlzLmRvbWFpbk5hbWUgKyAnLycgKyB0aGlzLmxhbmcgKyAnLycgKyB0aGlzLm1ldGhvZDtcclxuICAgIHRoaXMucGFnZUNvdW50ZXIgPSAxO1xyXG4gICAgdGhpcy5sYXN0UGFnZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5sb2FkRW5hYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAvL2luaXQgU2VsZWN0aXplXHJcbiAgICB0aGlzLnNlbGVjdCA9IHRoaXMuZWwuc2VsZWN0aXplKHtcclxuICAgICAgICBwbHVnaW5zOiB0aGlzLmVsWzBdLmhhc0F0dHJpYnV0ZSgnbXVsdGlwbGUnKSA/IFsncmVtb3ZlX2J1dHRvbicsICdzaWxlbnRfcmVtb3ZlJywgJ3N0b3BfYmFja3NwYWNlX2RlbGV0ZSddIDogbnVsbCxcclxuICAgICAgICBhbGxvd0VtcHR5T3B0aW9uOiB0cnVlLFxyXG4gICAgICAgIG1heE9wdGlvbnM6IDEwMDAwLFxyXG4gICAgICAgIG1heEl0ZW1zOiBtYXhJdGVtcyxcclxuICAgICAgICBvbkluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VuZFJlcXVlc3Qoc2VsZi5za2lsbElkKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vZmV0Y2ggdGhlIGluc3RhbmNlXHJcbiAgICB0aGlzLmNvbnRyb2xzID0gdGhpcy5zZWxlY3RbMF0uc2VsZWN0aXplO1xyXG4gICAgdGhpcy5kcm9wZG93bkNvbnRlbnQgPSB0aGlzLmNvbnRyb2xzLiRkcm9wZG93bl9jb250ZW50O1xyXG4gICAgdGhpcy5ub1Jlc3VsdHNEZWZhdWx0TXNnID0ge1xyXG4gICAgICAgIGVuOiAnTm8gcmVzdWx0cycsXHJcbiAgICAgICAgcnU6ICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3QvicsXHJcbiAgICAgICAga2s6ICfQldGI0YLQtdC90LUg0YLQsNCx0YvQu9Cz0LDQvSDQttC+0LonXHJcbiAgICB9O1xyXG4gICAgdGhpcy5ub1Jlc3VsdHNNc2cgPSB0aGlzLmNvbnRyb2xzLiRpbnB1dFswXS5kYXRhc2V0Lm5vcmVzdWx0cyA/IHRoaXMuY29udHJvbHMuJGlucHV0WzBdLmRhdGFzZXQubm9yZXN1bHRzIDogdGhpcy5ub1Jlc3VsdHNEZWZhdWx0TXNnW3RoaXMubGFuZ107XHJcblxyXG4gICAgLy9PbiB0eXBlIGV2ZW50XHJcbiAgICB0aGlzLmNvbnRyb2xzLm9uKCd0eXBlJywgZGVsYXkoZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIHNlbmRSZXF1ZXN0KHNlbGYuc2tpbGxJZCwgdmFsLCB0cnVlKTtcclxuICAgIH0sIDEwMDApKTtcclxuXHJcbiAgICB0aGlzLmNvbnRyb2xzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbF9pbnB1dFswXS5wbGFjZWhvbGRlciA9IHNlbGYuZWxbMF0uYXR0cmlidXRlcy5wbGFjZWhvbGRlci52YWx1ZTtcclxuICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSBmYWxzZTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9LCAxNTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jb250cm9scy5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXJlc3VsdHMnKTtcclxuICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY29udHJvbHMub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghc2VsZi5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcclxuICAgICAgICAgICAgc2VsZi5jb250cm9scy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZHJvcGRvd25Db250ZW50Lm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhID0gc2VsZi5wYXJlbnRFbCA/IChzZWxmLnBhcmVudEVsLnZhbCgpID8geydwcm9mZXNzaW9ucyc6IHRvQXJyYXkoc2VsZi5wYXJlbnRFbC52YWwoKSl9IDogbnVsbCkgOiBudWxsO1xyXG4gICAgICAgIGxldCBweFRvQm90dG9tID0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsSGVpZ2h0IC0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsVG9wIC0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIGlmIChweFRvQm90dG9tIDwgMTAwMCAmJiBzZWxmLmxvYWRFbmFibGUgJiYgIXNlbGYubGFzdFBhZ2UpIHtcclxuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGRyb3Bkb3duWzBdLmNsYXNzTGlzdC5hZGQoJ2xvYWRpbmcnKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3A7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmdldE5leHRQYWdlKHNlbGYuc2tpbGxJZCwgc2Nyb2xsVG9wKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnJlbmRlck5ld09wdGlvbnMgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgbGV0IG5ld09wdGlvbnMgPSBbXTtcclxuICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgbmV3T3B0aW9ucy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLFxyXG4gICAgICAgICAgICAgICAgdGV4dDogaXRlbVtcIm5hbWVcIiArIChzZWxmLm11bHRpTGFuZyA/ICdfJyArIHNlbGYubGFuZyA6ICcnKV1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy5hZGRPcHRpb24obmV3T3B0aW9ucyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuc2F2ZU9sZE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgc2VsZWN0ZWRWYWx1ZXMgPSBbXTtcclxuICAgICAgICBPYmplY3QudmFsdWVzKHNlbGYuY29udHJvbHMub3B0aW9ucykuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlcy5wdXNoKGl0ZW0udmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuc2V0VmFsdWUoc2VsZWN0ZWRWYWx1ZXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmFkZE1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIG1lc3NhZ2UuY2xhc3NOYW1lID0gJ25vcmVzdWx0cy1tZXNzYWdlJztcclxuICAgICAgICBtZXNzYWdlLmlubmVySFRNTCA9IHNlbGYubm9SZXN1bHRzTXNnO1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0ucGFyZW50RWxlbWVudC5hcHBlbmQobWVzc2FnZSk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlTWVzc2FnZSgpO1xyXG4gICAgICAgIH0sIDMwMDApO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnJlbW92ZU1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgbWVzc2FnZSA9IHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0ucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubm9yZXN1bHRzLW1lc3NhZ2UnKTtcclxuICAgICAgICBpZiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5mb2N1c09uU2VhcmNoRmllbGQgPSBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLnNldFRleHRib3hWYWx1ZSh2YWwpO1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuZm9jdXMoKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5hZGREZWZhdWx0T3B0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy5hZGRPcHRpb24oe1xyXG4gICAgICAgICAgICAkb3JkZXI6IDAsXHJcbiAgICAgICAgICAgIHZhbHVlOiAnJyxcclxuICAgICAgICAgICAgdGV4dDogc2VsZi5lbC5kYXRhKCdkZWZhdWx0JylcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5nZXROZXh0UGFnZSA9IGZ1bmN0aW9uKHNraWxsSWQsIHNjcm9sbFRvcCkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICB1cmw6IHNlbGYudXJsICsgJy8nICsgc2tpbGxJZCxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgXCJuYW1lXCI6IHNlbGYuY29udHJvbHMubGFzdFF1ZXJ5LFxyXG4gICAgICAgICAgICAgICAgXCJwYWdlXCI6IHNlbGYucGFnZUNvdW50ZXIgKyAxXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZW5kZXJOZXdPcHRpb25zKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy5yZWZyZXNoT3B0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYucGFnZUNvdW50ZXIrKztcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLiRkcm9wZG93blswXS5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICB9LCAxNTApO1xyXG5cclxuICAgICAgICAgICAgICAgIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY3VycmVudF9wYWdlID09PSByZXNwb25zZS5sYXN0X3BhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxhc3RQYWdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KHNraWxsSWQsIHNlYXJjaFZhbHVlID0gJycsIGZvY3VzID0gZmFsc2UsIGNsZWFyT3B0aW9ucyA9IHRydWUpIHtcclxuICAgICAgICBpZiAoc2tpbGxJZCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBzZWxmLnVybCArICcvJyArIHNraWxsSWQsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IHNlYXJjaFZhbHVlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsZWFyT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbnRyb2xzLmNsZWFyT3B0aW9ucygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoICE9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNhdmVPbGRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5lbC5kYXRhKCdkZWZhdWx0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkRGVmYXVsdE9wdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbmRlck5ld09wdGlvbnMocmVzcG9uc2UuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZm9jdXNPblNlYXJjaEZpZWxkKHNlYXJjaFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVNZXNzYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5jbGFzc0xpc3QuYWRkKCduby1yZXN1bHRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkTWVzc2FnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlQ291bnRlciA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UGFnZSA9IChyZXNwb25zZS5jdXJyZW50X3BhZ2UgPT09IHJlc3BvbnNlLmxhc3RfcGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uIChwYXJhbSkge1xyXG4gICAgICAgIHNlbmRSZXF1ZXN0KHBhcmFtKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLmNsZWFyKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2xlYXJPcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbHMuY2xlYXJPcHRpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGhpcy5yZW1vdmVNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgIHJlbW92ZU1lc3NhZ2UoKTtcclxuICAgIC8vIH1cclxufTtcclxuXHJcbi8vRGVsYXkgZnVuY3Rpb25cclxuZnVuY3Rpb24gZGVsYXkoY2FsbGJhY2ssIG1zKSB7XHJcbiAgICBsZXQgdGltZXIgPSAwO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgICB9LCBtcyB8fCAwKTtcclxuICAgIH07XHJcbn1cclxuXHJcblNlbGVjdGl6ZS5kZWZpbmUoJ3NpbGVudF9yZW1vdmUnLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8vIGRlZmFuZyB0aGUgaW50ZXJuYWwgc2VhcmNoIG1ldGhvZCB3aGVuIHJlbW92ZSBoYXMgYmVlbiBjbGlja2VkXHJcbiAgICB0aGlzLm9uKCdpdGVtX3JlbW92ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbl9zaWxlbnRfcmVtb3ZlX2luX3JlbW92ZSA9IHRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnNlYXJjaCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsID0gc2VsZi5zZWFyY2g7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpcy5wbHVnaW5fc2lsZW50X3JlbW92ZV9pbl9yZW1vdmUpICE9IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlLWVuYWJsZSBub3JtYWwgc2VhcmNoaW5nXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5wbHVnaW5fc2lsZW50X3JlbW92ZV9pbl9yZW1vdmU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICBxdWVyeTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zOiBbXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pKCk7XHJcbn0pO1xyXG5cclxuU2VsZWN0aXplLmRlZmluZShcInN0b3BfYmFja3NwYWNlX2RlbGV0ZVwiLCBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuZGVsZXRlU2VsZWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgb3JpZ2luYWwgPSBzZWxmLmRlbGV0ZVNlbGVjdGlvbjtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICghZSB8fCBlLmtleUNvZGUgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgIH0pKCk7XHJcbn0pOyJdLCJmaWxlIjoiYWpheC1zZWxlY3QuanMifQ==
