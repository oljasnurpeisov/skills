let ajaxSelect=function(a,b=null,c=!0){function d(a=null,b="",c=!1,d=!0){$.ajax({type:"GET",url:e.url,data:{...a,name:b},success:function(a){d&&e.controls.clearOptions(),0===a.data.length?(e.controls.$control[0].classList.add("no-results"),e.addMessage()):(e.saveOldOptions(),e.el.data("default")&&e.addDefaultOption(),e.renderNewOptions(a.data),c&&e.focusOnSearchField(b),e.removeMessage()),e.pageCounter=1,e.lastPage=a.current_page===a.last_page},error:function(a){console.log(a)}})}let e=this;this.el=a,this.parentEl=b,this.multiLang=c,this.method=this.el.data("method"),this.domainName=document.location.origin,this.lang=window.Laravel.lang,this.url=this.domainName+"/"+this.lang+"/"+this.method,this.pageCounter=1,this.lastPage=!1,this.loadEnable=!0,this.select=this.el.selectize({plugins:this.el[0].hasAttribute("multiple")?["remove_button","silent_remove","stop_backspace_delete"]:null,allowEmptyOption:!0,maxOptions:1e4,onInitialize:function(){let a=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null;d(a)},onChange:function(){this.$input[0].dispatchEvent(changeEvent)}}),this.controls=this.select[0].selectize,this.dropdownContent=this.controls.$dropdown_content,this.noResultsDefaultMsg={en:"No results",ru:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",kk:"\u0415\u0448\u0442\u0435\u043D\u0435 \u0442\u0430\u0431\u044B\u043B\u0433\u0430\u043D \u0436\u043E\u043A"},this.noResultsMsg=this.controls.$input[0].dataset.noresults?this.controls.$input[0].dataset.noresults:this.noResultsDefaultMsg[this.lang],this.controls.on("type",delay(function(a){let b=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null;d(b,a,!0)},1e3)),this.controls.on("change",function(){e.controls.$control_input[0].placeholder=e.el[0].attributes.placeholder.value,e.loadEnable=!1,setTimeout(function(){e.loadEnable=!0},150)}),this.controls.on("blur",function(){e.controls.$control[0].classList.remove("no-results"),e.removeMessage()}),this.controls.on("focus",function(){e.el[0].hasAttribute("multiple")||e.controls.clear()}),this.dropdownContent.on("scroll",function(){let a=e.parentEl?e.parentEl.val()?{professions:toArray(e.parentEl.val())}:null:null,b=e.dropdownContent[0].scrollHeight-e.dropdownContent[0].scrollTop-e.dropdownContent[0].clientHeight;if(1e3>b&&e.loadEnable&&!e.lastPage){e.loadEnable=!1,e.controls.$dropdown[0].classList.add("loading");let b=e.dropdownContent[0].scrollTop;e.getNextPage(a,b)}}),this.renderNewOptions=function(a){let b=[];a.forEach(function(a){b.push({value:a.id,text:a["name"+(e.multiLang?"_"+e.lang:"")]})}),e.controls.addOption(b)},this.saveOldOptions=function(){let a=[];Object.values(e.controls.options).forEach(b=>{a.push(b.value)}),e.controls.setValue(a)},this.addMessage=function(){let a=document.createElement("div");a.className="noresults-message",a.innerHTML=e.noResultsMsg,e.controls.$control[0].parentElement.append(a)},this.removeMessage=function(){let a=e.controls.$control[0].parentElement.querySelector(".noresults-message");a&&a.remove()},this.focusOnSearchField=function(a){e.controls.setTextboxValue(a),e.controls.focus()},this.addDefaultOption=function(){e.controls.addOption({$order:0,value:"",text:e.el.data("default")})},this.getNextPage=function(a,b){$.ajax({type:"GET",url:e.url,data:{...a,name:e.controls.lastQuery,page:e.pageCounter+1},success:function(a){e.renderNewOptions(a.data),e.controls.refreshOptions(),e.loadEnable=!0,e.pageCounter++,setTimeout(function(){e.controls.$dropdown[0].classList.remove("loading")},150),e.dropdownContent[0].scrollTop=b,a.current_page===a.last_page&&(e.lastPage=!0)},error:function(a){console.log(a)}})},this.update=function(a){d(a)},this.clear=function(){e.controls.clear()}},ajaxSelect2=function(a,b=!0,c=null,d=null){function e(a,b="",c=!1,d=!0){-1!==a&&$.ajax({type:"GET",url:f.url+"/"+a,data:{name:b},success:function(a){d&&f.controls.clearOptions(),0===a.data.length?(f.controls.$control[0].classList.add("no-results"),f.addMessage()):(f.saveOldOptions(),f.el.data("default")&&f.addDefaultOption(),f.renderNewOptions(a.data),c&&f.focusOnSearchField(b),f.removeMessage()),f.pageCounter=1,f.lastPage=a.current_page===a.last_page},error:function(a){console.log(a)}})}let f=this;this.el=a,this.multiLang=b,this.skillId=c,this.method=this.el.data("method"),this.domainName=document.location.origin,this.lang=window.Laravel.lang,this.url=this.domainName+"/"+this.lang+"/"+this.method,this.pageCounter=1,this.lastPage=!1,this.loadEnable=!0,this.select=this.el.selectize({plugins:this.el[0].hasAttribute("multiple")?["remove_button","silent_remove","stop_backspace_delete"]:null,allowEmptyOption:!0,maxOptions:1e4,maxItems:d,onInitialize:function(){e(f.skillId)}}),this.controls=this.select[0].selectize,this.dropdownContent=this.controls.$dropdown_content,this.noResultsDefaultMsg={en:"No results",ru:"\u041D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E",kk:"\u0415\u0448\u0442\u0435\u043D\u0435 \u0442\u0430\u0431\u044B\u043B\u0433\u0430\u043D \u0436\u043E\u043A"},this.noResultsMsg=this.controls.$input[0].dataset.noresults?this.controls.$input[0].dataset.noresults:this.noResultsDefaultMsg[this.lang],this.controls.on("type",delay(function(a){e(f.skillId,a,!0)},1e3)),this.controls.on("change",function(){f.controls.$control_input[0].placeholder=f.el[0].attributes.placeholder.value,f.loadEnable=!1,setTimeout(function(){f.loadEnable=!0},150)}),this.controls.on("blur",function(){f.controls.$control[0].classList.remove("no-results"),f.removeMessage()}),this.controls.on("focus",function(){f.el[0].hasAttribute("multiple")||f.controls.clear()}),this.dropdownContent.on("scroll",function(){let a=f.parentEl?f.parentEl.val()?{professions:toArray(f.parentEl.val())}:null:null,b=f.dropdownContent[0].scrollHeight-f.dropdownContent[0].scrollTop-f.dropdownContent[0].clientHeight;if(1e3>b&&f.loadEnable&&!f.lastPage){f.loadEnable=!1,f.controls.$dropdown[0].classList.add("loading");let a=f.dropdownContent[0].scrollTop;f.getNextPage(f.skillId,a)}}),this.renderNewOptions=function(a){let b=[];a.forEach(function(a){b.push({value:a.id,text:a["name"+(f.multiLang?"_"+f.lang:"")]})}),f.controls.addOption(b)},this.saveOldOptions=function(){let a=[];Object.values(f.controls.options).forEach(b=>{a.push(b.value)}),f.controls.setValue(a)},this.addMessage=function(){let a=document.createElement("div");a.className="noresults-message",a.innerHTML=f.noResultsMsg,f.controls.$control[0].parentElement.append(a),setTimeout(function(){f.removeMessage()},3e3)},this.removeMessage=function(){let a=f.controls.$control[0].parentElement.querySelector(".noresults-message");a&&a.remove()},this.focusOnSearchField=function(a){f.controls.setTextboxValue(a),f.controls.focus()},this.addDefaultOption=function(){f.controls.addOption({$order:0,value:"",text:f.el.data("default")})},this.getNextPage=function(a,b){$.ajax({type:"GET",url:f.url+"/"+a,data:{name:f.controls.lastQuery,page:f.pageCounter+1},success:function(a){f.renderNewOptions(a.data),f.controls.refreshOptions(),f.loadEnable=!0,f.pageCounter++,setTimeout(function(){f.controls.$dropdown[0].classList.remove("loading")},150),f.dropdownContent[0].scrollTop=b,a.current_page===a.last_page&&(f.lastPage=!0)},error:function(a){console.log(a)}})},this.update=function(a){e(a)},this.clear=function(){this.controls.clear()},this.clearOptions=function(){this.controls.clearOptions()}};function delay(a,b){let c=0;return function(){let d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b||0)}}Selectize.define("silent_remove",function(){let a=this;this.on("item_remove",function(){this.plugin_silent_remove_in_remove=!0}),this.search=function(){let b=a.search;return function(){return"undefined"==typeof this.plugin_silent_remove_in_remove?b.apply(this,arguments):(delete this.plugin_silent_remove_in_remove,{items:{},query:[],tokens:[]})}}()}),Selectize.define("stop_backspace_delete",function(){let a=this;this.deleteSelection=function(){let b=a.deleteSelection;return function(a){return!(a&&8===a.keyCode)&&b.apply(this,arguments)}}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFqYXgtc2VsZWN0LmpzIl0sIm5hbWVzIjpbImFqYXhTZWxlY3QiLCJlbCIsInBhcmVudEVsIiwibXVsdGlMYW5nIiwic2VuZFJlcXVlc3QiLCJhZGRpdGlvbmFsRGF0YSIsInNlYXJjaFZhbHVlIiwiZm9jdXMiLCJjbGVhck9wdGlvbnMiLCIkIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJzZWxmIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsImNvbnRyb2xzIiwibGVuZ3RoIiwiJGNvbnRyb2wiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRNZXNzYWdlIiwic2F2ZU9sZE9wdGlvbnMiLCJhZGREZWZhdWx0T3B0aW9uIiwicmVuZGVyTmV3T3B0aW9ucyIsImZvY3VzT25TZWFyY2hGaWVsZCIsInJlbW92ZU1lc3NhZ2UiLCJwYWdlQ291bnRlciIsImxhc3RQYWdlIiwiY3VycmVudF9wYWdlIiwibGFzdF9wYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwibWV0aG9kIiwiZG9tYWluTmFtZSIsImRvY3VtZW50IiwibG9jYXRpb24iLCJvcmlnaW4iLCJsYW5nIiwid2luZG93IiwiTGFyYXZlbCIsImxvYWRFbmFibGUiLCJzZWxlY3QiLCJzZWxlY3RpemUiLCJwbHVnaW5zIiwiaGFzQXR0cmlidXRlIiwiYWxsb3dFbXB0eU9wdGlvbiIsIm1heE9wdGlvbnMiLCJvbkluaXRpYWxpemUiLCJ2YWwiLCJ0b0FycmF5Iiwib25DaGFuZ2UiLCIkaW5wdXQiLCJkaXNwYXRjaEV2ZW50IiwiY2hhbmdlRXZlbnQiLCJkcm9wZG93bkNvbnRlbnQiLCIkZHJvcGRvd25fY29udGVudCIsIm5vUmVzdWx0c0RlZmF1bHRNc2ciLCJlbiIsInJ1Iiwia2siLCJub1Jlc3VsdHNNc2ciLCJkYXRhc2V0Iiwibm9yZXN1bHRzIiwib24iLCJkZWxheSIsIiRjb250cm9sX2lucHV0IiwicGxhY2Vob2xkZXIiLCJhdHRyaWJ1dGVzIiwidmFsdWUiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiY2xlYXIiLCJweFRvQm90dG9tIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsVG9wIiwiY2xpZW50SGVpZ2h0IiwiJGRyb3Bkb3duIiwiZ2V0TmV4dFBhZ2UiLCJuZXdPcHRpb25zIiwiZm9yRWFjaCIsIml0ZW0iLCJwdXNoIiwiaWQiLCJ0ZXh0IiwiYWRkT3B0aW9uIiwic2VsZWN0ZWRWYWx1ZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJvcHRpb25zIiwic2V0VmFsdWUiLCJtZXNzYWdlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsInBhcmVudEVsZW1lbnQiLCJhcHBlbmQiLCJxdWVyeVNlbGVjdG9yIiwic2V0VGV4dGJveFZhbHVlIiwiJG9yZGVyIiwibGFzdFF1ZXJ5IiwicmVmcmVzaE9wdGlvbnMiLCJ1cGRhdGUiLCJhamF4U2VsZWN0MiIsInNraWxsSWQiLCJtYXhJdGVtcyIsInBhcmFtIiwiY2FsbGJhY2siLCJtcyIsInRpbWVyIiwiY29udGV4dCIsImFyZ3MiLCJhcmd1bWVudHMiLCJjbGVhclRpbWVvdXQiLCJhcHBseSIsIlNlbGVjdGl6ZSIsImRlZmluZSIsInBsdWdpbl9zaWxlbnRfcmVtb3ZlX2luX3JlbW92ZSIsInNlYXJjaCIsIm9yaWdpbmFsIiwiaXRlbXMiLCJxdWVyeSIsInRva2VucyIsImRlbGV0ZVNlbGVjdGlvbiIsImUiLCJrZXlDb2RlIl0sIm1hcHBpbmdzIjoiR0FDSUEsQ0FBQUEsVUFBVSxDQUFHLFNBQVVDLENBQVYsQ0FBY0MsQ0FBUSxDQUFHLElBQXpCLENBQStCQyxDQUFTLEdBQXhDLENBQWlELENBMEo5RCxRQUFTQyxDQUFBQSxDQUFULENBQXFCQyxDQUFjLENBQUcsSUFBdEMsQ0FBNENDLENBQVcsQ0FBRyxFQUExRCxDQUE4REMsQ0FBSyxHQUFuRSxDQUE2RUMsQ0FBWSxHQUF6RixDQUFrRyxDQUM5RkMsQ0FBQyxDQUFDQyxJQUFGLENBQU8sQ0FDSEMsSUFBSSxDQUFFLEtBREgsQ0FFSEMsR0FBRyxDQUFFQyxDQUFJLENBQUNELEdBRlAsQ0FH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SEcsS0FBSyxDQUFFLEVBREosQ0FFSEMsS0FBSyxDQUFFLEVBRkosQ0FHSEMsTUFBTSxDQUFFLEVBSEwsQ0FKSSxDQVlsQixDQUNKLENBZmEsRUFnQmpCLENBeEJELEMsQ0EwQkFQLFNBQVMsQ0FBQ0MsTUFBVixDQUFpQix1QkFBakIsQ0FBMEMsVUFBbUIsQ0FDekQsR0FBSXpHLENBQUFBLENBQUksQ0FBRyxJQUFYLENBRUEsS0FBS2dILGVBQUwsQ0FBd0IsVUFBWSxDQUNoQyxHQUFJSixDQUFBQSxDQUFRLENBQUc1RyxDQUFJLENBQUNnSCxlQUFwQixDQUVBLE1BQU8sVUFBVUMsQ0FBVixDQUFhLFNBQ1hBLENBQUQsRUFBb0IsQ0FBZCxHQUFBQSxDQUFDLENBQUNDLE9BREksR0FFTE4sQ0FBUSxDQUFDTCxLQUFULENBQWUsSUFBZixDQUFxQkYsU0FBckIsQ0FJZCxDQUNKLENBVnNCLEVBVzFCLENBZEQsQyIsInNvdXJjZXNDb250ZW50IjpbIi8vQWpheCBzZWxlY3QgY29uc3RydWN0b3JcclxubGV0IGFqYXhTZWxlY3QgPSBmdW5jdGlvbiAoZWwsIHBhcmVudEVsID0gbnVsbCwgbXVsdGlMYW5nID0gdHJ1ZSkge1xyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuZWwgPSBlbDtcclxuICAgIHRoaXMucGFyZW50RWwgPSBwYXJlbnRFbDtcclxuICAgIHRoaXMubXVsdGlMYW5nID0gbXVsdGlMYW5nO1xyXG5cclxuICAgIHRoaXMubWV0aG9kID0gdGhpcy5lbC5kYXRhKCdtZXRob2QnKTtcclxuICAgIC8vIHRoaXMuZG9tYWluTmFtZSA9ICdodHRwczovL2RldjMucGFuYW1hLmt6JztcclxuICAgIHRoaXMuZG9tYWluTmFtZSA9IGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbjtcclxuICAgIHRoaXMubGFuZyA9IHdpbmRvdy5MYXJhdmVsLmxhbmc7XHJcbiAgICB0aGlzLnVybCA9IHRoaXMuZG9tYWluTmFtZSArICcvJyArIHRoaXMubGFuZyArICcvJyArIHRoaXMubWV0aG9kO1xyXG4gICAgdGhpcy5wYWdlQ291bnRlciA9IDE7XHJcbiAgICB0aGlzLmxhc3RQYWdlID0gZmFsc2U7XHJcbiAgICB0aGlzLmxvYWRFbmFibGUgPSB0cnVlO1xyXG5cclxuICAgIC8vaW5pdCBTZWxlY3RpemVcclxuICAgIHRoaXMuc2VsZWN0ID0gdGhpcy5lbC5zZWxlY3RpemUoe1xyXG4gICAgICAgIHBsdWdpbnM6IHRoaXMuZWxbMF0uaGFzQXR0cmlidXRlKCdtdWx0aXBsZScpID8gWydyZW1vdmVfYnV0dG9uJywgJ3NpbGVudF9yZW1vdmUnLCAnc3RvcF9iYWNrc3BhY2VfZGVsZXRlJ10gOiBudWxsLFxyXG4gICAgICAgIGFsbG93RW1wdHlPcHRpb246IHRydWUsXHJcbiAgICAgICAgbWF4T3B0aW9uczogMTAwMDAsXHJcbiAgICAgICAgb25Jbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsRGF0YSA9IHNlbGYucGFyZW50RWwgPyAoc2VsZi5wYXJlbnRFbC52YWwoKSA/IHsncHJvZmVzc2lvbnMnOiB0b0FycmF5KHNlbGYucGFyZW50RWwudmFsKCkpfSA6IG51bGwpIDogbnVsbDtcclxuICAgICAgICAgICAgc2VuZFJlcXVlc3QoYWRkaXRpb25hbERhdGEpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy4kaW5wdXRbMF0uZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvL2ZldGNoIHRoZSBpbnN0YW5jZVxyXG4gICAgdGhpcy5jb250cm9scyA9IHRoaXMuc2VsZWN0WzBdLnNlbGVjdGl6ZTtcclxuICAgIHRoaXMuZHJvcGRvd25Db250ZW50ID0gdGhpcy5jb250cm9scy4kZHJvcGRvd25fY29udGVudDtcclxuICAgIHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZyA9IHtcclxuICAgICAgICAgICAgZW46ICdObyByZXN1bHRzJyxcclxuICAgICAgICAgICAgcnU6ICfQndC40YfQtdCz0L4g0L3QtSDQvdCw0LnQtNC10L3QvicsXHJcbiAgICAgICAgICAgIGtrOiAn0JXRiNGC0LXQvdC1INGC0LDQsdGL0LvQs9Cw0L0g0LbQvtC6J1xyXG4gICAgICAgIH07XHJcbiAgICB0aGlzLm5vUmVzdWx0c01zZyA9IHRoaXMuY29udHJvbHMuJGlucHV0WzBdLmRhdGFzZXQubm9yZXN1bHRzID8gdGhpcy5jb250cm9scy4kaW5wdXRbMF0uZGF0YXNldC5ub3Jlc3VsdHMgOiB0aGlzLm5vUmVzdWx0c0RlZmF1bHRNc2dbdGhpcy5sYW5nXTtcclxuXHJcbiAgICAvL09uIHR5cGUgZXZlbnRcclxuICAgIHRoaXMuY29udHJvbHMub24oJ3R5cGUnLCBkZWxheShmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhID0gc2VsZi5wYXJlbnRFbCA/IChzZWxmLnBhcmVudEVsLnZhbCgpID8geydwcm9mZXNzaW9ucyc6IHRvQXJyYXkoc2VsZi5wYXJlbnRFbC52YWwoKSl9IDogbnVsbCkgOiBudWxsO1xyXG4gICAgICAgIHNlbmRSZXF1ZXN0KGFkZGl0aW9uYWxEYXRhLCB2YWwsIHRydWUpO1xyXG4gICAgfSwgMTAwMCkpO1xyXG5cclxuICAgIHRoaXMuY29udHJvbHMub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbF9pbnB1dFswXS5wbGFjZWhvbGRlciA9IHNlbGYuZWxbMF0uYXR0cmlidXRlcy5wbGFjZWhvbGRlci52YWx1ZTtcclxuICAgICAgICBzZWxmLmxvYWRFbmFibGUgPSBmYWxzZTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gdHJ1ZTtcclxuICAgICAgICB9LCAxNTApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jb250cm9scy5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ25vLXJlc3VsdHMnKTtcclxuICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY29udHJvbHMub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghc2VsZi5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcclxuICAgICAgICAgICAgc2VsZi5jb250cm9scy5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZHJvcGRvd25Db250ZW50Lm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGFkZGl0aW9uYWxEYXRhID0gc2VsZi5wYXJlbnRFbCA/IChzZWxmLnBhcmVudEVsLnZhbCgpID8geydwcm9mZXNzaW9ucyc6IHRvQXJyYXkoc2VsZi5wYXJlbnRFbC52YWwoKSl9IDogbnVsbCkgOiBudWxsO1xyXG4gICAgICAgIGxldCBweFRvQm90dG9tID0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsSGVpZ2h0IC0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsVG9wIC0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIGlmIChweFRvQm90dG9tIDwgMTAwMCAmJiBzZWxmLmxvYWRFbmFibGUgJiYgIXNlbGYubGFzdFBhZ2UpIHtcclxuICAgICAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGRyb3Bkb3duWzBdLmNsYXNzTGlzdC5hZGQoJ2xvYWRpbmcnKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3A7XHJcblxyXG4gICAgICAgICAgICBzZWxmLmdldE5leHRQYWdlKGFkZGl0aW9uYWxEYXRhLCBzY3JvbGxUb3ApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucmVuZGVyTmV3T3B0aW9ucyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICBsZXQgbmV3T3B0aW9ucyA9IFtdO1xyXG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBuZXdPcHRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWQsXHJcbiAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtW1wibmFtZVwiICsgKHNlbGYubXVsdGlMYW5nID8gJ18nICsgc2VsZi5sYW5nIDogJycpXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLmFkZE9wdGlvbihuZXdPcHRpb25zKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5zYXZlT2xkT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZFZhbHVlcyA9IFtdO1xyXG4gICAgICAgIE9iamVjdC52YWx1ZXMoc2VsZi5jb250cm9scy5vcHRpb25zKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVzLnB1c2goaXRlbS52YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy5zZXRWYWx1ZShzZWxlY3RlZFZhbHVlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWRkTWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBtZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbWVzc2FnZS5jbGFzc05hbWUgPSAnbm9yZXN1bHRzLW1lc3NhZ2UnO1xyXG4gICAgICAgIG1lc3NhZ2UuaW5uZXJIVE1MID0gc2VsZi5ub1Jlc3VsdHNNc2c7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5wYXJlbnRFbGVtZW50LmFwcGVuZChtZXNzYWdlKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZW1vdmVNZXNzYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm5vcmVzdWx0cy1tZXNzYWdlJyk7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9jdXNPblNlYXJjaEZpZWxkID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy5zZXRUZXh0Ym94VmFsdWUodmFsKTtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLmZvY3VzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWRkRGVmYXVsdE9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKHtcclxuICAgICAgICAgICAgJG9yZGVyOiAwLFxyXG4gICAgICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgICAgIHRleHQ6IHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0TmV4dFBhZ2UgPSBmdW5jdGlvbihhZGRpdGlvbmFsRGF0YSwgc2Nyb2xsVG9wKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICB1cmw6IHNlbGYudXJsLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAuLi5hZGRpdGlvbmFsRGF0YSxcclxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBzZWxmLmNvbnRyb2xzLmxhc3RRdWVyeSxcclxuICAgICAgICAgICAgICAgIFwicGFnZVwiOiBzZWxmLnBhZ2VDb3VudGVyICsgMVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyTmV3T3B0aW9ucyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMucmVmcmVzaE9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9hZEVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VDb3VudGVyKys7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy4kZHJvcGRvd25bMF0uY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTUwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmN1cnJlbnRfcGFnZSA9PT0gcmVzcG9uc2UubGFzdF9wYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UGFnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdChhZGRpdGlvbmFsRGF0YSA9IG51bGwsIHNlYXJjaFZhbHVlID0gJycsIGZvY3VzID0gZmFsc2UsIGNsZWFyT3B0aW9ucyA9IHRydWUpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgdXJsOiBzZWxmLnVybCxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgLi4uYWRkaXRpb25hbERhdGEsXHJcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogc2VhcmNoVmFsdWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYXJPcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy5jbGVhck9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggIT09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zYXZlT2xkT3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5lbC5kYXRhKCdkZWZhdWx0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGREZWZhdWx0T3B0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbmRlck5ld09wdGlvbnMocmVzcG9uc2UuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmZvY3VzT25TZWFyY2hGaWVsZChzZWFyY2hWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5jbGFzc0xpc3QuYWRkKCduby1yZXN1bHRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRNZXNzYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlQ291bnRlciA9IDE7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxhc3RQYWdlID0gKHJlc3BvbnNlLmN1cnJlbnRfcGFnZSA9PT0gcmVzcG9uc2UubGFzdF9wYWdlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxEYXRhKSB7XHJcbiAgICAgICAgc2VuZFJlcXVlc3QoYWRkaXRpb25hbERhdGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuY2xlYXIoKTtcclxuICAgIH07XHJcbn07XHJcblxyXG5sZXQgYWpheFNlbGVjdDIgPSBmdW5jdGlvbiAoZWwsIG11bHRpTGFuZyA9IHRydWUsIHNraWxsSWQgPSBudWxsLCBtYXhJdGVtcyA9IG51bGwpIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLmVsID0gZWw7XHJcbiAgICB0aGlzLm11bHRpTGFuZyA9IG11bHRpTGFuZztcclxuICAgIHRoaXMuc2tpbGxJZCA9IHNraWxsSWQ7XHJcblxyXG4gICAgdGhpcy5tZXRob2QgPSB0aGlzLmVsLmRhdGEoJ21ldGhvZCcpO1xyXG4gICAgLy8gdGhpcy5kb21haW5OYW1lID0gJ2h0dHBzOi8vZGV2My5wYW5hbWEua3onO1xyXG4gICAgdGhpcy5kb21haW5OYW1lID0gZG9jdW1lbnQubG9jYXRpb24ub3JpZ2luO1xyXG4gICAgdGhpcy5sYW5nID0gd2luZG93LkxhcmF2ZWwubGFuZztcclxuICAgIHRoaXMudXJsID0gdGhpcy5kb21haW5OYW1lICsgJy8nICsgdGhpcy5sYW5nICsgJy8nICsgdGhpcy5tZXRob2Q7XHJcbiAgICB0aGlzLnBhZ2VDb3VudGVyID0gMTtcclxuICAgIHRoaXMubGFzdFBhZ2UgPSBmYWxzZTtcclxuICAgIHRoaXMubG9hZEVuYWJsZSA9IHRydWU7XHJcblxyXG4gICAgLy9pbml0IFNlbGVjdGl6ZVxyXG4gICAgdGhpcy5zZWxlY3QgPSB0aGlzLmVsLnNlbGVjdGl6ZSh7XHJcbiAgICAgICAgcGx1Z2luczogdGhpcy5lbFswXS5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykgPyBbJ3JlbW92ZV9idXR0b24nLCAnc2lsZW50X3JlbW92ZScsICdzdG9wX2JhY2tzcGFjZV9kZWxldGUnXSA6IG51bGwsXHJcbiAgICAgICAgYWxsb3dFbXB0eU9wdGlvbjogdHJ1ZSxcclxuICAgICAgICBtYXhPcHRpb25zOiAxMDAwMCxcclxuICAgICAgICBtYXhJdGVtczogbWF4SXRlbXMsXHJcbiAgICAgICAgb25Jbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbmRSZXF1ZXN0KHNlbGYuc2tpbGxJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvL2ZldGNoIHRoZSBpbnN0YW5jZVxyXG4gICAgdGhpcy5jb250cm9scyA9IHRoaXMuc2VsZWN0WzBdLnNlbGVjdGl6ZTtcclxuICAgIHRoaXMuZHJvcGRvd25Db250ZW50ID0gdGhpcy5jb250cm9scy4kZHJvcGRvd25fY29udGVudDtcclxuICAgIHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZyA9IHtcclxuICAgICAgICBlbjogJ05vIHJlc3VsdHMnLFxyXG4gICAgICAgIHJ1OiAn0J3QuNGH0LXQs9C+INC90LUg0L3QsNC50LTQtdC90L4nLFxyXG4gICAgICAgIGtrOiAn0JXRiNGC0LXQvdC1INGC0LDQsdGL0LvQs9Cw0L0g0LbQvtC6J1xyXG4gICAgfTtcclxuICAgIHRoaXMubm9SZXN1bHRzTXNnID0gdGhpcy5jb250cm9scy4kaW5wdXRbMF0uZGF0YXNldC5ub3Jlc3VsdHMgPyB0aGlzLmNvbnRyb2xzLiRpbnB1dFswXS5kYXRhc2V0Lm5vcmVzdWx0cyA6IHRoaXMubm9SZXN1bHRzRGVmYXVsdE1zZ1t0aGlzLmxhbmddO1xyXG5cclxuICAgIC8vT24gdHlwZSBldmVudFxyXG4gICAgdGhpcy5jb250cm9scy5vbigndHlwZScsIGRlbGF5KGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICBzZW5kUmVxdWVzdChzZWxmLnNraWxsSWQsIHZhbCwgdHJ1ZSk7XHJcbiAgICB9LCAxMDAwKSk7XHJcblxyXG4gICAgdGhpcy5jb250cm9scy5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuJGNvbnRyb2xfaW5wdXRbMF0ucGxhY2Vob2xkZXIgPSBzZWxmLmVsWzBdLmF0dHJpYnV0ZXMucGxhY2Vob2xkZXIudmFsdWU7XHJcbiAgICAgICAgc2VsZi5sb2FkRW5hYmxlID0gZmFsc2U7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYubG9hZEVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfSwgMTUwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY29udHJvbHMub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy4kY29udHJvbFswXS5jbGFzc0xpc3QucmVtb3ZlKCduby1yZXN1bHRzJyk7XHJcbiAgICAgICAgc2VsZi5yZW1vdmVNZXNzYWdlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmNvbnRyb2xzLm9uKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXNlbGYuZWxbMF0uaGFzQXR0cmlidXRlKCdtdWx0aXBsZScpKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY29udHJvbHMuY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmRyb3Bkb3duQ29udGVudC5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBhZGRpdGlvbmFsRGF0YSA9IHNlbGYucGFyZW50RWwgPyAoc2VsZi5wYXJlbnRFbC52YWwoKSA/IHsncHJvZmVzc2lvbnMnOiB0b0FycmF5KHNlbGYucGFyZW50RWwudmFsKCkpfSA6IG51bGwpIDogbnVsbDtcclxuICAgICAgICBsZXQgcHhUb0JvdHRvbSA9IHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbEhlaWdodCAtIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLnNjcm9sbFRvcCAtIHNlbGYuZHJvcGRvd25Db250ZW50WzBdLmNsaWVudEhlaWdodDtcclxuICAgICAgICBpZiAocHhUb0JvdHRvbSA8IDEwMDAgJiYgc2VsZi5sb2FkRW5hYmxlICYmICFzZWxmLmxhc3RQYWdlKSB7XHJcbiAgICAgICAgICAgIHNlbGYubG9hZEVuYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzZWxmLmNvbnRyb2xzLiRkcm9wZG93blswXS5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2Nyb2xsVG9wID0gc2VsZi5kcm9wZG93bkNvbnRlbnRbMF0uc2Nyb2xsVG9wO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5nZXROZXh0UGFnZShzZWxmLnNraWxsSWQsIHNjcm9sbFRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yZW5kZXJOZXdPcHRpb25zID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGxldCBuZXdPcHRpb25zID0gW107XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIG5ld09wdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5pZCxcclxuICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW1bXCJuYW1lXCIgKyAoc2VsZi5tdWx0aUxhbmcgPyAnXycgKyBzZWxmLmxhbmcgOiAnJyldXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKG5ld09wdGlvbnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnNhdmVPbGRPcHRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkVmFsdWVzID0gW107XHJcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhzZWxmLmNvbnRyb2xzLm9wdGlvbnMpLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZXMucHVzaChpdGVtLnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLnNldFZhbHVlKHNlbGVjdGVkVmFsdWVzKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5hZGRNZXNzYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBtZXNzYWdlLmNsYXNzTmFtZSA9ICdub3Jlc3VsdHMtbWVzc2FnZSc7XHJcbiAgICAgICAgbWVzc2FnZS5pbm5lckhUTUwgPSBzZWxmLm5vUmVzdWx0c01zZztcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQuYXBwZW5kKG1lc3NhZ2UpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLnJlbW92ZU1lc3NhZ2UoKTtcclxuICAgICAgICB9LCAzMDAwKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5yZW1vdmVNZXNzYWdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBzZWxmLmNvbnRyb2xzLiRjb250cm9sWzBdLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm5vcmVzdWx0cy1tZXNzYWdlJyk7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgbWVzc2FnZS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZm9jdXNPblNlYXJjaEZpZWxkID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgc2VsZi5jb250cm9scy5zZXRUZXh0Ym94VmFsdWUodmFsKTtcclxuICAgICAgICBzZWxmLmNvbnRyb2xzLmZvY3VzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuYWRkRGVmYXVsdE9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuY29udHJvbHMuYWRkT3B0aW9uKHtcclxuICAgICAgICAgICAgJG9yZGVyOiAwLFxyXG4gICAgICAgICAgICB2YWx1ZTogJycsXHJcbiAgICAgICAgICAgIHRleHQ6IHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZ2V0TmV4dFBhZ2UgPSBmdW5jdGlvbihza2lsbElkLCBzY3JvbGxUb3ApIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgdXJsOiBzZWxmLnVybCArICcvJyArIHNraWxsSWQsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFwibmFtZVwiOiBzZWxmLmNvbnRyb2xzLmxhc3RRdWVyeSxcclxuICAgICAgICAgICAgICAgIFwicGFnZVwiOiBzZWxmLnBhZ2VDb3VudGVyICsgMVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyTmV3T3B0aW9ucyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMucmVmcmVzaE9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9hZEVuYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VDb3VudGVyKys7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy4kZHJvcGRvd25bMF0uY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTUwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZWxmLmRyb3Bkb3duQ29udGVudFswXS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmN1cnJlbnRfcGFnZSA9PT0gcmVzcG9uc2UubGFzdF9wYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UGFnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZW5kUmVxdWVzdChza2lsbElkLCBzZWFyY2hWYWx1ZSA9ICcnLCBmb2N1cyA9IGZhbHNlLCBjbGVhck9wdGlvbnMgPSB0cnVlKSB7XHJcbiAgICAgICAgaWYgKHNraWxsSWQgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgICAgICAgIHVybDogc2VsZi51cmwgKyAnLycgKyBza2lsbElkLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBzZWFyY2hWYWx1ZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGVhck9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb250cm9scy5jbGVhck9wdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCAhPT0gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zYXZlT2xkT3B0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuZWwuZGF0YSgnZGVmYXVsdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZERlZmF1bHRPcHRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW5kZXJOZXdPcHRpb25zKHJlc3BvbnNlLmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmZvY3VzT25TZWFyY2hGaWVsZChzZWFyY2hWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlTWVzc2FnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY29udHJvbHMuJGNvbnRyb2xbMF0uY2xhc3NMaXN0LmFkZCgnbm8tcmVzdWx0cycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZE1lc3NhZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUNvdW50ZXIgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGFzdFBhZ2UgPSAocmVzcG9uc2UuY3VycmVudF9wYWdlID09PSByZXNwb25zZS5sYXN0X3BhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAocGFyYW0pIHtcclxuICAgICAgICBzZW5kUmVxdWVzdChwYXJhbSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9scy5jbGVhcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLmNsZWFyT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLmNsZWFyT3B0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRoaXMucmVtb3ZlTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICByZW1vdmVNZXNzYWdlKCk7XHJcbiAgICAvLyB9XHJcbn07XHJcblxyXG4vL0RlbGF5IGZ1bmN0aW9uXHJcbmZ1bmN0aW9uIGRlbGF5KGNhbGxiYWNrLCBtcykge1xyXG4gICAgbGV0IHRpbWVyID0gMDtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoY29udGV4dCwgYXJncyk7XHJcbiAgICAgICAgfSwgbXMgfHwgMCk7XHJcbiAgICB9O1xyXG59XHJcblxyXG5TZWxlY3RpemUuZGVmaW5lKCdzaWxlbnRfcmVtb3ZlJywgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICAvLyBkZWZhbmcgdGhlIGludGVybmFsIHNlYXJjaCBtZXRob2Qgd2hlbiByZW1vdmUgaGFzIGJlZW4gY2xpY2tlZFxyXG4gICAgdGhpcy5vbignaXRlbV9yZW1vdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5fc2lsZW50X3JlbW92ZV9pbl9yZW1vdmUgPSB0cnVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zZWFyY2ggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBvcmlnaW5hbCA9IHNlbGYuc2VhcmNoO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHRoaXMucGx1Z2luX3NpbGVudF9yZW1vdmVfaW5fcmVtb3ZlKSAhPSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyByZS1lbmFibGUgbm9ybWFsIHNlYXJjaGluZ1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucGx1Z2luX3NpbGVudF9yZW1vdmVfaW5fcmVtb3ZlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuczogW11cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KSgpO1xyXG59KTtcclxuXHJcblNlbGVjdGl6ZS5kZWZpbmUoXCJzdG9wX2JhY2tzcGFjZV9kZWxldGVcIiwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgIGxldCBzZWxmID0gdGhpcztcclxuXHJcbiAgICB0aGlzLmRlbGV0ZVNlbGVjdGlvbiA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsID0gc2VsZi5kZWxldGVTZWxlY3Rpb247XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIWUgfHwgZS5rZXlDb2RlICE9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICB9KSgpO1xyXG59KTsiXSwiZmlsZSI6ImFqYXgtc2VsZWN0LmpzIn0=
